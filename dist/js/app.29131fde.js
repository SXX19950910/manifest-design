(function(t){function e(e){for(var i,s,r=e[0],l=e[1],c=e[2],d=0,p=[];d<r.length;d++)s=r[d],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&p.push(o[s][0]),o[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(p.length)p.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,r=1;r<n.length;r++){var l=n[r];0!==o[l]&&(i=!1)}i&&(a.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},o={app:0},a=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="dist/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=l;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"0498":function(t,e,n){"use strict";n("5878")},"117f":function(t,e,n){},"15a0":function(t,e,n){"use strict";n("330d")},"17b8":function(t,e,n){"use strict";n("6c88")},"190c":function(t,e,n){},"1d57":function(t,e,n){},"25ed":function(t,e,n){},"32fb":function(t,e,n){var i;function o(){try{var t=navigator.userAgent;if(t.match(/Windows\sPhone/i))return!0;if(t.match(/iPhone|iPod|iPad/i))return!0;if(t.match(/Android/i))return!0;if(t.match(/Edge\D?\d+/i))return!0;var e=t.match(/Trident\D?\d+/i),n=t.match(/MSIE\D?\d+/i),i=t.match(/OPR\D?\d+/i),o=t.match(/Firefox\D?\d+/i),a=t.match(/x64/i);if(!e&&!n&&a)return!0;if(o){if(o=o[0].match(/\d+/),o[0]>=41||a)return!0}else if(i){if(i=i[0].match(/\d+/),i[0]>=32)return!0}else if(!e&&!n){var s=t.match(/Chrome\D?\d+/i);if(s&&(s=s[0].match(/\d+/),s[0]>=41))return!0}return!1}catch(r){return!0}}function a(){if("loading"!=i&&"complete"!=i){i="loading";var t=document.head||document.getElementsByTagName("head")[0]||document.documentElement,e=document.createElement("script"),n=document.createElement("script");e.src="http://localhost:8000/CLodopfuncs.js?priority=1",n.src="http://localhost:18000/CLodopfuncs.js",e.onload=n.onload=function(){i="complete"},e.onerror=n.onerror=function(t){i="complete"},t.insertBefore(e,t.firstChild),t.insertBefore(n,t.firstChild),!!(e.src+n.src).match(/\/\/localho|\/\/127.0.0./i)}}n("a543"),n("0bd5"),n("5a4c"),o()&&a()},"330d":function(t,e,n){},4112:function(t,e,n){},4270:function(t,e,n){"use strict";n("54d0")},"518d":function(t,e,n){"use strict";n("cfde")},5298:function(t,e,n){},"54d0":function(t,e,n){},5878:function(t,e,n){},5880:function(t,e){t.exports=Vuex},"5c0b":function(t,e,n){"use strict";n("ac27")},"5f0d":function(t,e,n){"use strict";n("d683")},"5f72":function(t,e){t.exports=ELEMENT},6389:function(t,e){t.exports=VueRouter},"639b":function(t,e,n){"use strict";n("904f")},"64c2":function(t,e,n){},"669a":function(t,e,n){"use strict";n("25ed")},"6c17":function(t,e,n){},"6c88":function(t,e,n){},"6d42":function(t,e,n){"use strict";n("87a4")},7001:function(t,e,n){"use strict";n("e0f3")},7646:function(t,e,n){"use strict";n("e8fe")},8513:function(t,e,n){},"868c":function(t,e,n){"use strict";n("6c17")},"87a4":function(t,e,n){},"8bbf":function(t,e){t.exports=Vue},"8d87":function(t,e,n){"use strict";n("4112")},"904f":function(t,e,n){},9557:function(t,e,n){"use strict";n("ce31")},a9f4:function(t,e,n){"use strict";n("64c2")},ac27:function(t,e,n){},bd65:function(t,e,n){"use strict";n("8513")},c9a7:function(t,e,n){"use strict";n("190c")},cd49:function(t,e,n){"use strict";n.r(e);n("6540");var i=n("2ff6"),o=(n("139e"),n("fae9"),n("3ff7"),n("d6dc"),n("8bbf")),a=n.n(o),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},r=[],l={methods:{},mounted:function(){}},c=l,u=(n("5c0b"),n("5d22")),d=Object(u["a"])(c,s,r,!1,null,null,null),p=d.exports,f=n("6389"),h=n.n(f),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-warp"},[n("header-nav"),n("div",{staticClass:"body-area"},[n("v-split",{attrs:{min:"200px"},on:{"on-move-end":t.onSplitEnd},model:{value:t.split,callback:function(e){t.split=e},expression:"split"}},[n("left-menu",{staticClass:"left-menu",attrs:{slot:"left"},slot:"left"}),n("board",{ref:"board",staticClass:"view-box",attrs:{slot:"right"},slot:"right"})],1),n("right-menu",{staticClass:"right-menu"})],1)],1)},b=[],g=(n("13cf"),n("1d7a"),n("d211")),v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"nav-warp"}},[n("div",{staticClass:"logo-area"},[t._v(" Design UI ")]),n("div",{staticClass:"handle-area"},[n("div",{staticClass:"preview-btn",on:{click:t.handleSaveTemplateToImg}},[n("i",{staticClass:"el-icon-picture-outline"}),n("span",[t._v("保存为图片")])]),n("div",{staticClass:"preview-btn",on:{click:t.handleShowSaveDialog}},[n("i",{staticClass:"el-icon-receiving"}),n("span",[t._v("保存为模板")])]),n("div",{staticClass:"preview-btn",on:{click:t.handleViewTemplate}},[n("i",{staticClass:"el-icon-reading"}),n("span",[t._v("打印预览")])]),n("div",{staticClass:"preview-btn",on:{click:t.handlePrint}},[n("i",{staticClass:"el-icon-printer"}),n("span",[t._v("快速打印")])]),n("div",{staticClass:"preview-btn",on:{click:t.handleClearCanvas}},[n("i",{staticClass:"el-icon-magic-stick"}),n("span",[t._v("清空画布")])])]),n("save-dialog",{ref:"save"})],1)},y=[],x=(n("ecfd"),n("402f"),n("0bd5"),n("2db5"),n("79a8"),n("1143"),n("538b"),n("f49a"),n("7443"),n("c0cd"),n("da5e"),n("157f"),n("8b72"),n("3139"),n("29f5"),n("b7d3"),n("fa49"),n("2e97"),n("960e"),n("da10"),n("4967"),n("6c14"),n("2587"),n("971f"),n("fa68"),n("6e7c"),n("a760"),n("6e85"),n("55d9"),n("6ab7"),n("f32d"),n("6a61"),n("2e91")),w=n("072e"),C=n.n(w),O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{staticClass:"save-template-dialog",attrs:{visible:t.visible,width:"460px","append-to-body":"",title:"保存模板"},on:{"update:visible":function(e){t.visible=e}}},[n("div",{staticClass:"content-area"},[n("div",{staticClass:"name"},[t._v("模板名称：")]),n("el-input",{attrs:{type:"text",size:"small"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),n("div",{staticClass:"dialog-footer-area",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.handleSaveTemplate}},[t._v("保 存")]),n("el-button",{attrs:{size:"small"},on:{click:t.handleCancel}},[t._v("取 消")])],1)])},S=[],T={data:function(){return{visible:!1,name:""}},methods:{handleSaveTemplate:function(){var t={name:this.name};this.$store.dispatch("components/saveTemplate",t),this.$message.success("模板保存成功！"),this.handleCancel()},handleCancel:function(){this.visible=!1},init:function(){this.visible=!0}}},L=T,j=(n("9557"),Object(u["a"])(L,O,S,!1,null,null,null)),z=j.exports,_=(n("445a"),n("0e4d")),k=n("94ef"),B=n("5f72"),E=n.n(B),U=n("5880"),M=n.n(U),D={componentList:function(t){return t.components.componentList},storeList:function(t){return t.components.storeList},activeComponent:function(t){return t.components.activeComponent},templateList:function(t){return t.components.templateList}},I=D,$=(n("72b3"),n("989e"),n("d0bf"),n("836b"),n("270f"),n("fba3")),R=n.n($),Y=n("a14a"),X=n.n(Y),H=localStorage.getItem("templateList")||'[{"name":"快递面单","data":[{"name":"rectangle","type":"RectangleUi","classify":"RectangleMenu","title":"矩形","tag":"div","instance":true,"updateId":"1608777965136","position":{"clientX":0,"clientY":469},"default":{"height":31,"width":500,"x":0,"y":469},"props":{"borderWidth":1},"id":"kj28lr2m"},{"name":"customText","type":"TextUi","classify":"TextMenu","title":"自定义文本","instance":true,"tag":"span","updateId":"1608777965146","position":{"clientX":7,"clientY":472.5},"default":{"height":25,"width":489,"x":7,"y":472.5},"props":{"text":"版权声明：某某公司声明","align":"left","fontFamily":"","fontSize":"","lineHeight":"","isBold":false,"hasBorder":false},"id":"kj28m59x"},{"name":"customText","type":"TextUi","classify":"TextMenu","title":"自定义文本","instance":true,"tag":"span","updateId":"1608777965159","position":{"clientX":235,"clientY":473.5},"default":{"height":23,"width":259,"x":235,"y":473.5},"props":{"text":"Ref:123456789","align":"left","fontFamily":"","fontSize":"","lineHeight":"","isBold":false,"hasBorder":false},"id":"kj28nd6s"},{"type":"TextUi","name":"receiverAddress","classify":"TextMenu","title":"收件人地址","instance":true,"tag":"span","updateId":"1608777965168","position":{"clientX":14,"clientY":113.5},"default":{"height":34,"width":183,"x":14,"y":113.5},"props":{"text":"收件人：某某某","align":"left","fontFamily":"","lineHeight":"","fontSize":"16px","isBold":false,"hasBorder":false},"id":"kj28nxwt"},{"type":"TextUi","name":"receiverAddress","classify":"TextMenu","title":"收件人地址","instance":true,"tag":"span","updateId":"1608777965183","position":{"clientX":14,"clientY":150.5},"default":{"height":30,"width":139,"x":14,"y":150.5},"props":{"text":"寄件人：ABC","align":"left","fontFamily":"","lineHeight":"","fontSize":"16px","isBold":false,"hasBorder":false},"id":"kj28oejp"},{"type":"TextUi","name":"receiverAddress","classify":"TextMenu","title":"收件人地址","instance":true,"tag":"span","updateId":"1608777965192","position":{"clientX":15,"clientY":187.5},"default":{"height":58,"width":236,"x":15,"y":187.5},"props":{"text":"收件地址：某某某某大街，多少多少号","align":"left","fontFamily":"","lineHeight":"","fontSize":"16px","isBold":false,"hasBorder":false},"id":"kj28ofhp"},{"name":"barCode","type":"BarcodeUi","classify":"BarcodeMenu","instance":true,"title":"条形码","tag":"img","updateId":"1608777965196","position":{"clientX":125,"clientY":341.625},"default":{"height":124.875,"width":320.59375,"x":125,"y":341.625},"props":{"format":"CODE128","lineWidth":2,"bodyHeight":40,"fontSize":14,"displayValue":"1","data":"123456789"},"id":"kj28q5od"},{"name":"customText","type":"TextUi","classify":"TextMenu","title":"自定义文本","instance":true,"tag":"span","updateId":"1608777965201","position":{"clientX":134,"clientY":307.5},"default":{"height":39,"width":224,"x":134,"y":307.5},"props":{"text":"CD339045453445","align":"left","fontFamily":"Al Bayan","fontSize":"24px","lineHeight":"","isBold":false,"hasBorder":false},"id":"kj28qf4t"},{"name":"qrCode","type":"QrCodeUi","classify":"QrCodeMenu","title":"二维码","updateId":"1608777970800","tag":"img","instance":true,"position":{"clientX":387,"clientY":6.625},"default":{"height":106.875,"width":103.453125,"x":387,"y":6.625},"props":{},"id":"kj28rtja"},{"name":"customText","type":"TextUi","classify":"TextMenu","title":"自定义文本","instance":true,"tag":"span","updateId":"1608777965210","position":{"clientX":396,"clientY":104.5},"default":{"height":25,"width":84,"x":396,"y":104.5},"props":{"text":"扫一扫","align":"center","fontFamily":"","fontSize":"","lineHeight":"","isBold":false,"hasBorder":false},"id":"kj28s2is"},{"name":"customText","type":"TextUi","classify":"TextMenu","title":"自定义文本","instance":true,"tag":"span","updateId":"1608777965214","position":{"clientX":10,"clientY":50.5},"default":{"height":25,"width":84,"x":10,"y":50.5},"props":{"text":"订单金额：","align":"left","fontFamily":"","fontSize":"","lineHeight":"","isBold":false,"hasBorder":false},"id":"kj28sg3o"},{"name":"customText","type":"TextUi","classify":"TextMenu","title":"自定义文本","instance":true,"tag":"span","updateId":"1608777965220","position":{"clientX":83,"clientY":37.5},"default":{"height":62,"width":148,"x":83,"y":37.5},"props":{"text":"99999","align":"left","fontFamily":"Al Bayan","fontSize":"30px","lineHeight":"","isBold":true,"hasBorder":false},"id":"kj28ssh1"},{"name":"customText","type":"TextUi","classify":"TextMenu","title":"自定义文本","instance":true,"tag":"span","updateId":"1608777965223","position":{"clientX":377,"clientY":139.5},"default":{"height":59,"width":120,"x":377,"y":139.5},"props":{"text":"ZH","align":"center","fontFamily":"","fontSize":"30px","lineHeight":"","isBold":true,"hasBorder":false},"id":"kj28tuie"},{"name":"customText","type":"TextUi","classify":"TextMenu","title":"自定义文本","instance":true,"tag":"span","updateId":"1608777965225","position":{"clientX":387,"clientY":187.5},"default":{"height":25,"width":107,"x":387,"y":187.5},"props":{"text":"Made in China","align":"left","fontFamily":"","fontSize":"","lineHeight":"","isBold":false,"hasBorder":false},"id":"kj28ua85"}]}]',A=function(){return Number(Math.random().toString().substr(3,length)+Date.now()).toString(36)},W={namespaced:!0,state:{activeComponent:"",componentMap:{senderAddress:{name:"senderAddress",type:"TextUi",classify:"TextMenu",title:"寄件人地址",updateId:"",instance:!1,tag:"span",position:{clientX:"",clientY:""},default:{width:"",height:"",x:"",y:""},props:{text:"测试寄件人",align:"left",fontFamily:"monospace",lineHeight:"1.5",fontSize:"16px",isBold:!1,hasBorder:!1}},receiverAddress:{type:"TextUi",name:"receiverAddress",classify:"TextMenu",title:"收件人地址",instance:!1,tag:"span",updateId:"",position:{clientX:"",clientY:""},default:{width:"",height:"",x:"",y:""},props:{text:"测试收件人名称",align:"left",fontFamily:"",lineHeight:"",fontSize:"",isBold:!1,hasBorder:!1}},barcode:{name:"barCode",type:"BarcodeUi",classify:"BarcodeMenu",instance:!1,title:"条形码",tag:"img",updateId:"",position:{clientX:"",clientY:""},default:{width:"",height:"",x:"",y:""},props:{format:"CODE128",lineWidth:2,bodyHeight:40,fontSize:14,displayValue:"1",data:"123456789"}},xLine:{name:"xLine",type:"XLineUi",classify:"LineMenu",instance:!1,title:"横线",tag:"div",updateId:"",position:{clientX:"",clientY:""},default:{width:"",height:"",x:"",y:""},props:{width:100,height:1}},yLine:{name:"yLine",type:"YLineUi",classify:"LineMenu",title:"竖线",updateId:"",tag:"div",instance:!1,position:{clientX:"",clientY:""},default:{width:"",height:"",x:"",y:""},props:{height:60,width:1}},rectangle:{name:"rectangle",type:"RectangleUi",classify:"RectangleMenu",title:"矩形",tag:"div",instance:!1,updateId:"",position:{clientX:"",clientY:""},default:{width:"",height:"",x:"",y:""},props:{borderWidth:1}},qrCode:{name:"qrCode",type:"QrCodeUi",classify:"QrCodeMenu",title:"二维码",updateId:"",tag:"img",instance:!1,position:{clientX:"",clientY:""},default:{width:"",height:"",x:"",y:""},props:{}},customText:{name:"customText",type:"TextUi",classify:"TextMenu",title:"自定义文本",instance:!1,tag:"span",updateId:"",position:{clientX:"",clientY:""},default:{width:"",height:"",x:"",y:""},props:{text:"自定义文本",align:"left",fontFamily:"",fontSize:"",lineHeight:"",isBold:!1,hasBorder:!1}}},componentList:[{title:"地址信息",list:[{title:"收件人地址",icon:"iconfont iconziti1",id:"receiverAddress",component:{type:"TextUi"}},{title:"发件人地址",id:"senderAddress",icon:"iconfont iconziti1",component:{type:"TextUi"}}]},{title:"商品标签信息",list:[]},{title:"构图元素",list:[{title:"自定义文本",id:"customText",icon:"iconfont iconziti1",component:{type:"TextUi"}},{title:"条形码",id:"barcode",icon:"iconfont icontiaoxingma",component:{type:"BarcodeUi"}},{title:"二维码",id:"qrCode",icon:"iconfont iconqrcode",component:{type:"QrCodeUi"}},{title:"横线",id:"xLine",icon:"iconfont iconline",component:{type:"XLineUi"}},{title:"竖线",id:"yLine",icon:"iconfont icontubiaozhizuo-",component:{type:"YLineUi"}},{title:"矩形",id:"rectangle",icon:"iconfont iconjuxing",component:{type:"YLineUi"}}]}],storeList:[],templateList:JSON.parse(H)},actions:{updateStoreList:function(t,e){var n=t.commit;n("UPDATE_STORE_LIST",e)},removeActiveComponent:function(t){var e=t.commit;e("REMOVE_ACTIVE_COMPONENT")},addComponent:function(t,e){var n=t.commit,i=t.state,o=A(),a=i.componentMap[e.componentId];if(!a)throw new Error("".concat(e.componentId," 未找到该组件"));var s=JSON.parse(JSON.stringify(a));s.id=o;var r=Object.assign(s,e.props);n("ADD_COMPONENT",r)},setActive:function(t,e){var n=t.commit;n("SET_ACTIVE",e||"")},saveTemplate:function(t,e){var n=t.commit,i=t.state,o=localStorage.getItem("templateList")||'[{"name":"快递面单","data":[{"name":"rectangle","type":"RectangleUi","classify":"RectangleMenu","title":"矩形","tag":"div","instance":true,"updateId":"1608777965136","position":{"clientX":0,"clientY":469},"default":{"height":31,"width":500,"x":0,"y":469},"props":{"borderWidth":1},"id":"kj28lr2m"},{"name":"customText","type":"TextUi","classify":"TextMenu","title":"自定义文本","instance":true,"tag":"span","updateId":"1608777965146","position":{"clientX":7,"clientY":472.5},"default":{"height":25,"width":489,"x":7,"y":472.5},"props":{"text":"版权声明：某某公司声明","align":"left","fontFamily":"","fontSize":"","lineHeight":"","isBold":false,"hasBorder":false},"id":"kj28m59x"},{"name":"customText","type":"TextUi","classify":"TextMenu","title":"自定义文本","instance":true,"tag":"span","updateId":"1608777965159","position":{"clientX":235,"clientY":473.5},"default":{"height":23,"width":259,"x":235,"y":473.5},"props":{"text":"Ref:123456789","align":"left","fontFamily":"","fontSize":"","lineHeight":"","isBold":false,"hasBorder":false},"id":"kj28nd6s"},{"type":"TextUi","name":"receiverAddress","classify":"TextMenu","title":"收件人地址","instance":true,"tag":"span","updateId":"1608777965168","position":{"clientX":14,"clientY":113.5},"default":{"height":34,"width":183,"x":14,"y":113.5},"props":{"text":"收件人：某某某","align":"left","fontFamily":"","lineHeight":"","fontSize":"16px","isBold":false,"hasBorder":false},"id":"kj28nxwt"},{"type":"TextUi","name":"receiverAddress","classify":"TextMenu","title":"收件人地址","instance":true,"tag":"span","updateId":"1608777965183","position":{"clientX":14,"clientY":150.5},"default":{"height":30,"width":139,"x":14,"y":150.5},"props":{"text":"寄件人：ABC","align":"left","fontFamily":"","lineHeight":"","fontSize":"16px","isBold":false,"hasBorder":false},"id":"kj28oejp"},{"type":"TextUi","name":"receiverAddress","classify":"TextMenu","title":"收件人地址","instance":true,"tag":"span","updateId":"1608777965192","position":{"clientX":15,"clientY":187.5},"default":{"height":58,"width":236,"x":15,"y":187.5},"props":{"text":"收件地址：某某某某大街，多少多少号","align":"left","fontFamily":"","lineHeight":"","fontSize":"16px","isBold":false,"hasBorder":false},"id":"kj28ofhp"},{"name":"barCode","type":"BarcodeUi","classify":"BarcodeMenu","instance":true,"title":"条形码","tag":"img","updateId":"1608777965196","position":{"clientX":125,"clientY":341.625},"default":{"height":124.875,"width":320.59375,"x":125,"y":341.625},"props":{"format":"CODE128","lineWidth":2,"bodyHeight":40,"fontSize":14,"displayValue":"1","data":"123456789"},"id":"kj28q5od"},{"name":"customText","type":"TextUi","classify":"TextMenu","title":"自定义文本","instance":true,"tag":"span","updateId":"1608777965201","position":{"clientX":134,"clientY":307.5},"default":{"height":39,"width":224,"x":134,"y":307.5},"props":{"text":"CD339045453445","align":"left","fontFamily":"Al Bayan","fontSize":"24px","lineHeight":"","isBold":false,"hasBorder":false},"id":"kj28qf4t"},{"name":"qrCode","type":"QrCodeUi","classify":"QrCodeMenu","title":"二维码","updateId":"1608777970800","tag":"img","instance":true,"position":{"clientX":387,"clientY":6.625},"default":{"height":106.875,"width":103.453125,"x":387,"y":6.625},"props":{},"id":"kj28rtja"},{"name":"customText","type":"TextUi","classify":"TextMenu","title":"自定义文本","instance":true,"tag":"span","updateId":"1608777965210","position":{"clientX":396,"clientY":104.5},"default":{"height":25,"width":84,"x":396,"y":104.5},"props":{"text":"扫一扫","align":"center","fontFamily":"","fontSize":"","lineHeight":"","isBold":false,"hasBorder":false},"id":"kj28s2is"},{"name":"customText","type":"TextUi","classify":"TextMenu","title":"自定义文本","instance":true,"tag":"span","updateId":"1608777965214","position":{"clientX":10,"clientY":50.5},"default":{"height":25,"width":84,"x":10,"y":50.5},"props":{"text":"订单金额：","align":"left","fontFamily":"","fontSize":"","lineHeight":"","isBold":false,"hasBorder":false},"id":"kj28sg3o"},{"name":"customText","type":"TextUi","classify":"TextMenu","title":"自定义文本","instance":true,"tag":"span","updateId":"1608777965220","position":{"clientX":83,"clientY":37.5},"default":{"height":62,"width":148,"x":83,"y":37.5},"props":{"text":"99999","align":"left","fontFamily":"Al Bayan","fontSize":"30px","lineHeight":"","isBold":true,"hasBorder":false},"id":"kj28ssh1"},{"name":"customText","type":"TextUi","classify":"TextMenu","title":"自定义文本","instance":true,"tag":"span","updateId":"1608777965223","position":{"clientX":377,"clientY":139.5},"default":{"height":59,"width":120,"x":377,"y":139.5},"props":{"text":"ZH","align":"center","fontFamily":"","fontSize":"30px","lineHeight":"","isBold":true,"hasBorder":false},"id":"kj28tuie"},{"name":"customText","type":"TextUi","classify":"TextMenu","title":"自定义文本","instance":true,"tag":"span","updateId":"1608777965225","position":{"clientX":387,"clientY":187.5},"default":{"height":25,"width":107,"x":387,"y":187.5},"props":{"text":"Made in China","align":"left","fontFamily":"","fontSize":"","lineHeight":"","isBold":false,"hasBorder":false},"id":"kj28ua85"}]}]',a={name:e.name,data:X.a.cloneDeep(i.storeList)},s=JSON.parse(o);s.push(a),localStorage.setItem("templateList",JSON.stringify(s)),n("SAVE_TEMPLATE",a)},updateBarcode:function(t){t.commit;var e=t.state,n=e.storeList.find((function(t){return t.id===e.activeComponent.id||""})),i=n.props,o=i.format,a=i.lineWidth,s=i.bodyHeight,r=i.displayValue,l=i.fontSize;try{R()(".".concat(n.id),n.props.data,{format:o,width:a,height:s,textMargin:10,fontSize:l,displayValue:"1"===r})}catch(c){Object(B["Notification"])({type:"warning",title:"更新失败，参数不匹配",message:c,duration:1500})}},updateComponent:function(t,e){var n=t.commit,i=t.state,o=i.storeList.find((function(t){return t.id===e.id})),a=JSON.parse(JSON.stringify(o));a.updateId=(new Date).getTime().toString();var s=Object.assign(a,e.update);n("UPDATE_COMPONENT",s)},clearStoreList:function(t,e){var n=t.commit;t.state;n("CLEAR_STORE_LIST")}},mutations:{SET_ACTIVE:function(t,e){t.activeComponent=t.storeList.find((function(t){return t.id===e}))||""},SAVE_TEMPLATE:function(t,e){t.templateList.push(e)},UPDATE_STORE_LIST:function(t,e){t.storeList=e.map((function(t){return Object(g["a"])({},t)}))},CLEAR_STORE_LIST:function(t){t.storeList=[];var e=document.querySelector(".drag-canvas-warp.board-canvas"),n=e.querySelectorAll(".item");n.forEach((function(t){e.removeChild(t)}))},UPDATE_COMPONENT:function(t,e){t.storeList=t.storeList.map((function(t,n){var i=Object(g["a"])({},t);return t.id===e.id&&(i=e),i}))},ADD_COMPONENT:function(t,e){t.storeList.push(e)},REMOVE_ACTIVE_COMPONENT:function(t){var e=t.activeComponent.id;t.storeList.map((function(n,i){n.id===e&&t.storeList.splice(i,1)}))}}},P=W;a.a.use(M.a);var F=new M.a.Store({modules:{components:P},getters:I}),N="\n.canvas-wrapper {\n  width: 500px;\n  height: 500px;\n  background-color: white;\n  border-radius: 2px;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  box-shadow: 0 0 10px rgba(0, 21, 41, 0.08);\n}\n.item {\n    display: none;\n}\n.view-wrapper {\n    width: 100% !important;\n    height: 100% !important;\n}\n.border-canvas {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n}\n.drag-warp {\n    position: absolute;\n    cursor: pointer;\n    border: 1px solid transparent;\n    color: #000;\n    border-radius: 2px;\n    max-width: 100%;\n    max-height: 100%;\n    overflow: hidden;\n    transition: background-color ease .36s;\n}\n\n.text-component .detail {\n    display: inline-block;\n    font-weight: normal;\n    word-break: break-all;\n    word-wrap: break-word;\n    border: 1px solid transparent;\n}\n",V=function(){function t(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(_["a"])(this,t),this.html="",this.data=e,this.scheme=F.state.components.storeList||[],this.lodop=this.initLodop()}return Object(k["a"])(t,[{key:"generateHtml",value:function(){var t=Object(x["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return F.dispatch("components/updateStoreList",this.scheme),t.next=3,a.a.nextTick();case 3:return this.html=document.querySelector(".board-warp").innerHTML,t.abrupt("return",'\n                <html lang="en">\n                    <head>\n                      <meta charset="UTF-8">\n                      <title>Title</title>\n                      <style>\n                        '.concat(N,"\n                      </style>\n                    </head>\n                    <body>\n                        ").concat(this.html,"\n                    </body>\n                </html>"));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"initLodop",value:function(){var t=!1;return window.LODOP?t=LODOP:B["Notification"].error({title:"未找到LODOP",dangerouslyUseHTMLString:!0,message:'请安装<a class="link" href="http://www.c-lodop.com/index.html" target="_blank">LODOP</a>后重试'}),t}},{key:"painting",value:function(){var t=Object(x["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.lodop){t.next=9;break}return this.lodop.PRINT_INIT("打印预览"),this.lodop.SET_PRINT_PAGESIZE(),t.t0=this.lodop,t.next=6,this.generateHtml();case 6:t.t1=t.sent,t.t0.ADD_PRINT_HTM.call(t.t0,0,0,"100%","100%",t.t1),this.lodop.PREVIEW();case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}],[{key:"setStyle",value:function(){var t="block";return"display: ".concat(t,"; width: 200px")}},{key:"parseWrapper",value:function(){var e=document.createElement("div");return e.style.cssText=t.setStyle(),'<div class="drag-warp" style="'.concat(t.setStyle(),'"></div>')}},{key:"parseElement",value:function(e){t.parseWrapper();var n="\n        <".concat(e.tag,"></").concat(e.tag,">\n       ");return n}}]),t}(),q=V,G={components:{saveDialog:z},data:function(){return{imgSrc:""}},mounted:function(){},methods:{convertBase64UrlToBlob:function(t){for(var e=window.atob(t.split(",")[1]),n=new ArrayBuffer(e.length),i=new Uint8Array(n),o=0;o<e.length;o++)i[o]=e.charCodeAt(o);return new Blob([n],{type:"image/png"})},handleShowSaveDialog:function(){this.$refs.save.init()},handlePrint:function(){this.$nextTick((function(){var t={receiver:"动态收件人",sender:"动态寄件人",receiverAddress:"中国检验认证大厦"},e=new q("测试模板2",t);e.painting()}))},handleSaveTemplateToImg:function(){var t=this;return Object(x["a"])(regeneratorRuntime.mark((function e(){var n,i,o,a,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=document.querySelector(".drag-canvas-warp.board-canvas"),e.next=3,C()(n,{allowTaint:!0,useCORS:!0,backgroundColor:"#fff",width:n.offsetWidth,height:n.offsetHeight,dpi:2*window.devicePixelRatio});case 3:i=e.sent,o=i.toDataURL("image/png"),a=t.convertBase64UrlToBlob(o),s=window.URL.createObjectURL(a),r=document.createElement("a"),r.href=s,r.download="商品标签模板_".concat((new Date).getTime()),r.click(),window.URL.revokeObjectURL(s);case 12:case"end":return e.stop()}}),e)})))()},handleViewTemplate:function(){var t=document.querySelector(".drag-canvas-warp.board-canvas").innerHTML,e='\n       <!Doctype html>\n    <html>\n      <head>\n        <title>Desgin Ui 预览</title>\n        <style>\n          html,body{\n            margin: 0;\n            padding: 0;\n            overflow: auto;\n            background-color: #000;\n            position: relative;\n            height: 100vh;\n          }\n          .container {\n            box-sizing: border-box;\n            width: 500px;\n            height: 500px;\n            position: absolute;\n            top: 50%;\n            left: 50%;\n            transform: translate(-50%, -50%);\n            background-color: white;\n          }\n          .text-component .detail {\n            display: inline-block;\n            font-weight: normal;\n            word-break: break-all;\n            word-wrap: break-word;\n            border: 1px solid transparent;\n          }\n          .container .item {\n            display: none;\n          }\n          .container .drag-warp {\n            position: absolute;\n          }\n        </style>\n      </head>\n      <body>\n        <div class="container">'.concat(t,"</div>\n      </body>\n    </html>");window.previewWindow&&window.previewWindow.close(),window.previewWindow=window.open(),window.previewWindow.document.write(e),window.previewWindow.document.close()},handleClearCanvas:function(){var t=this;this.$confirm("此操作将清空画板, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$store.dispatch("components/clearStoreList")})).catch()},handleTest:function(){}}},J=G,Q=(n("15a0"),Object(u["a"])(J,v,y,!1,null,null,null)),K=Q.exports,Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"component-menu-warp"},[n("el-collapse",{staticClass:"collapse-menu",model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},t._l(t.componentList,(function(e,i){return n("el-collapse-item",{key:i,attrs:{title:e.title,name:e.title}},[e.list&&e.list.length>0?[n("draggable",t._b({staticClass:"component-list",attrs:{"component-data":t.getComponentData},on:{end:t.onEnd}},"draggable",t.dragOptions,!1),t._l(e.list,(function(e,i){return n("div",{key:e.id,staticClass:"item",attrs:{"data-component-id":e.id}},[n("span",{staticClass:"name"},[t._v(t._s(e.title))]),n("i",{class:e.icon})])})),0)]:t._e()],2)})),1)],1)},tt=[],et=n("3335"),nt=n.n(et),it={components:{draggable:nt.a},data:function(){return{menu:["地址信息","商品标签信息","构图元素"]}},computed:Object(g["a"])(Object(g["a"])({},Object(U["mapGetters"])(["componentList"])),{},{dragOptions:function(){return{sort:!1,group:{name:"component",pull:"clone",put:!1}}},getComponentData:function(){return{}}}),methods:{onEnd:function(t){}}},ot=it,at=(n("fa17"),Object(u["a"])(ot,Z,tt,!1,null,null,null)),st=at.exports,rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"props-menu-warp",on:{click:function(t){t.stopPropagation()}}},[[n("div",{staticClass:"title-area"},[t._v(t._s(t.activeComponent.title))]),n(t.activeComponent.classify,{ref:"menu",tag:"component",attrs:{component:t.activeComponent}})]],2)},lt=[],ct={data:function(){return{}},computed:Object(g["a"])(Object(g["a"])({},Object(U["mapGetters"])(["activeComponent","storeList"])),{},{currentComponent:function(){var t=this;return this.storeList.find((function(e){return e.id===t.activeComponent}))}}),watch:{currentComponent:function(){var t=this;this.$nextTick((function(){var e=t.$refs.menu;e&&e.init()}))}},methods:{}},ut=ct,dt=(n("7646"),Object(u["a"])(ut,rt,lt,!1,null,null,null)),pt=dt.exports,ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"board-warp"},[n("div",{staticClass:"view-wrapper",style:t.view},[n("div",{staticClass:"canvas-wrapper"},[n("drag-canvas",{ref:"canvas",staticClass:"board-canvas"})],1)])])},ht=[],mt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("draggable",t._b({ref:"board",staticClass:"drag-canvas-warp",attrs:{list:t.storeList},on:{add:t.onAdd}},"draggable",t.getOptions,!1),[t._l(t.storeList,(function(e){return[n("drag",{key:e.id,ref:"drag",refInFor:!0,attrs:{"default-x":e.position.clientX,"default-y":e.position.clientY,"aim-id":e.id,"update-id":e.updateId,"component-object":e,"is-instance":e.instance,default:e.default},on:{"resize-end":t.onResizeEnd,"move-end":t.onMoveEnd}})]}))],2)},bt=[],gt=a.a.prototype.$isServer,vt=function(){return!gt&&document.addEventListener?function(t,e,n){t&&e&&n&&t.addEventListener(e,n,!1)}:function(t,e,n){t&&e&&n&&t.attachEvent("on"+e,n)}}(),yt=function(){return!gt&&document.removeEventListener?function(t,e,n){t&&e&&t.removeEventListener(e,n,!1)}:function(t,e,n){t&&e&&t.detachEvent("on"+e,n)}}(),xt=n("f22b"),wt={props:{},components:{draggable:nt.a},data:function(){return{list:[],left:"",right:"",top:"",bottom:"",visible:!0,test:""}},computed:Object(g["a"])(Object(g["a"])({},Object(U["mapGetters"])(["storeList","activeComponent","templateList"])),{},{getOptions:function(){return{group:{name:"component",pull:!1,put:!0},handle:".handle",disabled:!1,sort:!1,debounceResizeChange:Function,debounceKeyUp:Function}}}),mounted:function(){this.init()},destroyed:function(){this.removeListener()},created:function(){},methods:{onAdd:function(t){var e=t.originalEvent,n=e.clientX,i=e.clientY,o=t.item.getAttribute("data-component-id"),a={position:{clientX:n,clientY:i}},s=n<this.right&&n>this.left,r=i<this.bottom&&n>this.top;s&&r&&this.$store.dispatch("components/addComponent",{componentId:o,props:a})},init:function(){this.setLayoutData(),this.addListener()},addListener:function(){this.debounceResizeChange=Object(xt["debounce"])(300,this.onWindowResize),vt(window,"resize",this.debounceResizeChange),vt(window,"keyup",this.onDeleteKeyUp)},onDeleteKeyUp:function(t){8===t.keyCode&&this.activeComponent&&this.$store.dispatch("components/removeActiveComponent")},removeListener:function(){yt(window,"resize",this.debounceResizeChange)},onWindowResize:function(){this.setLayoutData();var t=this.$refs.drag;t&&t.length>0&&t.forEach((function(t){t.init()}))},setLayoutData:function(){var t=this.$refs.board.$el,e=t.getBoundingClientRect(),n=e.left,i=e.right,o=e.bottom,a=e.top;this.left=n,this.right=i,this.top=a,this.bottom=o},onMoveEnd:function(t){var e=t.height,n=t.width,i=t.x,o=t.y,a=t.position,s=t.instance,r=t.id,l={id:r,update:{default:{height:e,width:n,x:i,y:o},instance:s,position:a}};l.id&&this.$store.dispatch("components/updateComponent",l)},onResizeEnd:function(){}}},Ct=wt,Ot=(n("bd65"),Object(u["a"])(Ct,mt,bt,!1,null,null,null)),St=Ot.exports,Tt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Lt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"tools-drawer-warp"}},[n("div",{staticClass:"trigger-area"},[n("div",{staticClass:"line-box"}),n("div",{staticClass:"trigger-btn"},[n("i",{staticClass:"el-icon-caret-top"})])])])}],jt={data:function(){return{visible:!1,direction:"btt"}}},zt=jt,_t=(n("6d42"),Object(u["a"])(zt,Tt,Lt,!1,null,null,null)),kt=_t.exports,Bt={props:{},components:{DragCanvas:St,ToolsDrawer:kt},data:function(){return{view:{width:"",height:""}}},mounted:function(){this.init()},methods:{init:function(){this.setViewStyle()},initDragBasic:function(){this.$refs.canvas.onWindowResize()},setViewStyle:function(){this.view.width="".concat(window.screen.width,"px"),this.view.height="".concat(window.screen.height,"px")}}},Et=Bt,Ut=(n("8d87"),Object(u["a"])(Et,ft,ht,!1,null,null,null)),Mt=Ut.exports,Dt={components:{HeaderNav:K,LeftMenu:st,RightMenu:pt,Board:Mt},data:function(){return{split:"200px"}},computed:Object(g["a"])({},Object(U["mapGetters"])(["templateList","activeComponent"])),mounted:function(){this.init(),vt(document,"click",this.handleCancelCurrent)},destroyed:function(){yt(document,"click",this.handleCancelCurrent)},methods:{init:function(){this.$store.dispatch("components/clearStoreList"),this.generateTemplate()},generateTemplate:function(){var t=this.$route.query.id,e=void 0===t?"":t;if(e){var n=this.templateList.find((function(t){return t.name===e}));n&&this.$store.dispatch("components/updateStoreList",n.data)}},handleCancelCurrent:function(){this.$store.dispatch("components/setActive","")},onSplitEnd:function(){var t=this.$refs.board;t.initDragBasic()}}},It=Dt,$t=(n("639b"),Object(u["a"])(It,m,b,!1,null,null,null)),Rt=$t.exports,Yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"list-warp"}},[n("div",{staticClass:"handle-area mb-20"},[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.handleGoCreate}},[t._v("创建模板")])],1),n("el-tabs",{staticClass:"tab-area",attrs:{type:"border-card"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("el-tab-pane",{attrs:{name:"usually",label:"通用模板"}},[n("el-table",{staticClass:"table-box",attrs:{data:t.templateList}},[n("el-table-column",{attrs:{label:"模板名称",prop:"name"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-link",{attrs:{type:"primary"},on:{click:function(n){return t.handleGoDetail(e.row)}}},[t._v(t._s(e.row.name))])]}}])}),n("el-table-column",{attrs:{label:"模板尺寸",prop:"size"}}),n("el-table-column",{attrs:{label:"类别",prop:"classify"}}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-link",{attrs:{type:"primary"},on:{click:function(n){return t.handleGoDetail(e.row)}}},[n("i",{staticClass:"el-icon-edit-outline fs-16"}),t._v(" 修改 ")])]}}])})],1)],1),n("el-tab-pane",{attrs:{name:"custom",label:"自定义模板"}})],1),n("board",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]})],1)},Xt=[],Ht={components:{Board:Mt},data:function(){return{tab:"usually",usuallyData:[{id:"7894561",name:"通用地址模板",size:"460*460",classify:"地址"}]}},computed:Object(g["a"])({},Object(U["mapGetters"])(["templateList"])),methods:{handleGoDetail:function(t){this.$router.push({name:"Edit",query:{id:t.name}})},handleGoCreate:function(){this.$router.push({name:"Edit"})}}},At=Ht,Wt=(n("518d"),Object(u["a"])(At,Yt,Xt,!1,null,null,null)),Pt=Wt.exports;a.a.use(h.a);var Ft=[{path:"/",redirect:"List"},{path:"/edit",name:"Edit",component:Rt},{path:"/list",name:"List",component:Pt}],Nt=new h.a({mode:"hash",base:"dist/",routes:Ft}),Vt=Nt,qt={bind:function(t,e,n){}},Gt=function(t){t.directive("drag",qt)};window.Vue&&(window["drag"]=qt),a.a.use(Gt),qt.install=Gt;var Jt=qt,Qt=[Jt],Kt=Qt,Zt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-component",attrs:{id:t.elementId}},[n("span",{staticClass:"detail",style:t.getTextStyle},[t._v(t._s(t.text))])])},te=[],ee={props:{elementId:{type:String,default:""},text:{type:String,default:""},fontFamily:{type:String,default:""},fontSize:{type:String,default:""},lineHeight:{type:String,default:""},isBold:{type:Boolean,default:!1},hasBorder:{type:Boolean,default:!1}},data:function(){return{}},computed:{getTextStyle:function(){var t=this.fontFamily,e=this.fontSize,n=this.lineHeight,i=this.isBold,o=this.hasBorder,a={};return a={fontFamily:t,fontSize:e,lineHeight:n,fontWeight:i?"bold":"400",border:o?"1px solid #000":"1px solid transparent"},a}},mounted:function(){this.init()},methods:{init:function(){this.$emit("complete")}}},ne=ee,ie=(n("c9a7"),Object(u["a"])(ne,Zt,te,!1,null,null,null)),oe=ie.exports,ae=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"drag",staticClass:"drag-warp",class:t.activeClass,style:t.dragStyle,attrs:{id:t.aimId},on:{click:function(e){return e.stopPropagation(),t.handleSetCurrent(e)},mousedown:t.handleMouseDown,contextmenu:t.handleContextMenu}},[n(t.componentObject.type,t._b({tag:"component",attrs:{"element-id":t.componentObject.id,"update-id":t.componentObject.updateId},on:{complete:t.init}},"component",t.componentObject.props,!1)),t.resizeVisible?n("drag-resize",{attrs:{"component-object":t.componentObject},on:{"resize-down":t.handleResizeDown}}):t._e()],1)},se=[],re=(n("c726"),n("b784"),{name:"Drag",props:{componentObject:{type:Object,default:function(){return{}}},isInstance:{type:Boolean,default:!1},aimId:{type:String,default:""},defaultX:{type:Number,default:0},defaultY:{type:Number,default:0},updateId:{type:String,default:""},default:{type:Object,default:function(){return{}}}},data:function(){return{visible:!1,x:"",y:"",downX:"",downY:"",resizeDownX:"",resizeDownY:"",downWidth:"",downHeight:"",offsetLeft:"",offsetTop:"",resizeOffsetRight:"",resizeOffsetBottom:"",board:{},active:!1,defaultWidth:"",defaultHeight:"",width:"",height:"",debounceUpdateComponent:Function}},destroyed:function(){this.clearAllListener()},computed:Object(g["a"])(Object(g["a"])({},Object(U["mapGetters"])(["activeComponent"])),{},{dragStyle:function(){var t=this.width,e=this.height,n=this.y,i=this.x,o=this.isLine;return{width:"".concat(t,"px"),height:"".concat(e,"px"),top:"".concat(n,"px"),left:"".concat(i,"px"),padding:o?"0":"0 10px 0 0",overflow:o?"unset":"hidden"}},activeClass:function(){var t=[],e=this.activeComponent.id,n=void 0===e?"":e;return n===this.componentObject.id&&t.push("is-active"),"BarcodeUi"===this.componentObject.type&&t.push("barcode-ui"),this.isLine&&t.push("line-ui"),t},isLine:function(){return"XLineUi"===this.componentObject.type||"YLineUi"===this.componentObject.type||"RectangleUi"===this.componentObject.type},resizeDisabledY:function(){return"XLineUi"===this.componentObject.type},resizeDisabledX:function(){return"YLineUi"===this.componentObject.type},resizeVisible:function(){return this.activeClass.includes("is-active")}}),mounted:function(){this.debounceUpdateComponent=Object(xt["debounce"])(200,this.moveEnd)},methods:{init:function(){var t=this;setTimeout((function(){t.initLayoutScheme()}))},initLayoutScheme:function(){var t=this,e=this.$refs.drag,n=this.isInstance,i=e.firstElementChild,o=this.default,a=document.querySelector(".drag-canvas-warp.board-canvas"),s=e.getBoundingClientRect(),r=s.width,l=s.height,c=this.defaultX,u=this.defaultY,d=i.getBoundingClientRect(),p=d.top,f=d.left;this.board=a.getBoundingClientRect(),this.offsetLeft=this.board.left,this.offsetTop=this.board.top,this.defaultHeight=o.height||10,this.defaultWidth=o.width||r,this.width=r,this.height=l,n?(this.x=o.x,this.y=o.y,this.width=o.width,this.height=o.height||""):(this.x=c-f,this.y=u-p),this.$nextTick((function(){t.debounceUpdateComponent()}))},clearAllListener:function(){yt(document,"mousemove",this.handleResizeMove),yt(document,"mouseup",this.handleResizeUp),yt(document,"mousemove",this.handleMouseMove),yt(document,"mouseup",this.handleMouseUp)},handleMouseDown:function(t){var e=t.path.find((function(t){return t.className.includes("drag-warp")})),n=e.getBoundingClientRect(),i=n.top,o=n.left;this.downX=t.clientX-o,this.downY=t.clientY-i,vt(document,"mousemove",this.handleMouseMove),vt(document,"mouseup",this.handleMouseUp),this.handleSetCurrent()},handleContextMenu:function(){this.clearAllListener()},handleSetCurrent:function(){var t=this.componentObject.id,e=void 0===t?"":t;this.$store.dispatch("components/setActive",e)},handleMouseMove:function(t){var e=this.aimId,n=t.clientX,i=t.clientY,o=this.board.height,a=this.board.width,s=n-this.offsetLeft-this.downX,r=i-this.offsetTop-this.downY,l=document.getElementById(e),c=l.getBoundingClientRect(),u=c.width,d=c.height;this.x=s<=0?0:u+s>=a?a-u:s,this.y=r<=0?0:d+r>=o?o-d:r,this.debounceUpdateComponent()},handleMouseUp:function(){yt(document,"mousemove",this.handleMouseMove),yt(document,"mouseup",this.handleMouseUp)},moveEnd:function(){var t=this;setTimeout((function(){var e=t.x,n=t.y,i={id:t.aimId,x:e,y:n,instance:!0,width:t.width||0,height:t.height||0,position:{clientX:e,clientY:n}};t.$emit("move-end",i)}))},handleResizeUp:function(){yt(document,"mousemove",this.handleResizeMove),yt(document,"mouseup",this.handleResizeUp)},handleResizeMove:function(t){var e=t.clientX,n=t.clientY,i=this.defaultWidth,o=this.defaultHeight,a=this.downWidth,s=this.downHeight,r=e-this.resizeDownX,l=n-this.resizeDownY,c=this.resizeOffsetRight,u=this.resizeOffsetBottom,d=a+r,p=s+l,f=p<=o,h=d<=i,m=r>=c,b=l>=u;this.resizeDisabledX||(this.width=h?i:m?a+c:d),this.resizeDisabledY||(this.height=f?o:b?s+u:p),this.debounceUpdateComponent()},handleResizeDown:function(t){var e=this.$refs.drag,n=e.getBoundingClientRect(),i=n.width,o=n.height;this.resizeOffsetRight=this.board.width-e.offsetLeft-i,this.resizeOffsetBottom=this.board.height-e.offsetTop-o,this.resizeDownX=t.clientX,this.resizeDownY=t.clientY,this.downWidth=i,this.downHeight=o,vt(document,"mousemove",this.handleResizeMove),vt(document,"mouseup",this.handleResizeUp),t.stopPropagation()}}}),le=re,ce=(n("0498"),Object(u["a"])(le,ae,se,!1,null,null,null)),ue=ce.exports,de=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"resize-area",class:t.resizeClass,style:t.resizeStyle},[t.isLine?n("div",{staticClass:"resize-bar",style:t.barStyle,on:{click:function(t){t.stopPropagation()},mousedown:t.handleResizeDown}}):n("i",{staticClass:"iconfont icontuozhuaidaxiao",style:t.iconStyle,on:{click:function(t){t.stopPropagation()},mousedown:t.handleResizeDown}})])},pe=[],fe={props:{componentObject:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:Object(g["a"])(Object(g["a"])({resizeStyle:function(){var t={},e=this.isYLine,n=this.currentComponent;e&&(t.width="".concat(n.props.height,"px"))}},Object(U["mapGetters"])(["activeComponent","storeList"])),{},{currentComponent:function(){var t=this.activeComponent.id,e=void 0===t?"":t;return this.storeList.find((function(t){return t.id===e}))},cursorType:function(){var t={XLineUi:"col-resize",YLineUi:"row-resize"};return t[this.componentObject.type]},isLine:function(){return"XLineUi"===this.componentObject.type||"YLineUi"===this.componentObject.type},isYLine:function(){return"YLineUi"===this.componentObject.type},iconStyle:function(){var t=this.isLine;return{cursor:t?this.cursorType:"se-resize"}},barStyle:function(){var t=this.isLine,e=this.isYLine,n=this.currentComponent,i={cursor:t?this.cursorType:"se-resize",width:this.resizeDisabledX?"100%":"16px",height:this.resizeDisabledY?"100%":"16px"};return this.resizeDisabledX&&(i.bottom=0,i.left=0),this.resizeDisabledY&&(i.top=0,i.right=0),e&&(i.width="".concat(n.props.width,"px")),i},resizeDisabledY:function(){return"XLineUi"===this.componentObject.type},resizeDisabledX:function(){return"YLineUi"===this.componentObject.type},resizeClass:function(){return this.isLine?"":"resize-btn"}}),methods:{handleResizeDown:function(t){this.$emit("resize-down",t)}}},he=fe,me=(n("4270"),Object(u["a"])(he,de,pe,!1,null,null,null)),be=me.exports,ge=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("img",{ref:"img",staticClass:"barcode",class:t.elementId,style:t.getStyle,attrs:{alt:"barcode",src:"",draggable:"false"}})},ve=[],ye={props:{elementId:{type:String,default:""},component:{type:Object,default:function(){return{}}},bodyHeight:{type:Number,default:40},lineWidth:{type:Number,default:2},format:{type:String,default:"CODE128"},displayValue:{type:String,default:"1"},data:{type:String,default:""}},data:function(){return{}},computed:Object(g["a"])(Object(g["a"])({},Object(U["mapGetters"])(["activeComponent","storeList"])),{},{currentComponent:function(){var t=this;return this.storeList.find((function(e){return e.id===t.activeComponent}))},getStyle:function(){return{maxWidth:"100%",verticalAlign:"middle",userSelect:"none"}}}),destroyed:function(){},mounted:function(){this.init()},methods:{complete:function(){this.$emit("complete")},clearListener:function(){var t=this;yt(t.$refs.img,"load",t.complete)},init:function(){this.complete();var t=this.elementId,e=this.bodyHeight,n=this.lineWidth,i=this.displayValue,o=this.format,a=this.data;R()(".".concat(t),a,{format:o,width:n,height:e,textMargin:10,displayValue:"1"===i})}}},xe=ye,we=(n("669a"),Object(u["a"])(xe,ge,ve,!1,null,null,null)),Ce=we.exports,Oe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("img",{ref:"img",staticClass:"qr-code-warp",style:t.getStyle,attrs:{alt:"qr",draggable:"false",src:""}})},Se=[],Te=n("5618"),Le=n.n(Te),je={props:{elementId:{type:String,default:""}},data:function(){return{}},destroyed:function(){},computed:{getStyle:function(){return{maxWidth:"100%",verticalAlign:"middle",userSelect:"none"}}},mounted:function(){this.init()},methods:{complete:function(){this.$emit("complete")},init:function(){var t=this,e=this.$refs.img;t.complete(),Le.a.toDataURL("http://192.168.11.80:8080/",{errorCorrectionLevel:"H",type:"image/jpeg",color:{}},(function(t,n){if(t)throw t;e.src=n}))}}},ze=je,_e=(n("17b8"),Object(u["a"])(ze,Oe,Se,!1,null,null,null)),ke=_e.exports,Be=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"x-line-warp",style:t.getStyle})},Ee=[],Ue={props:{elementId:{type:String,default:""},height:{type:[String,Number],default:1},width:{type:[String,Number],default:100}},data:function(){return{}},computed:{getStyle:function(){var t=this.height,e=this.width;return{backgroundColor:"#000",height:"".concat(t,"px"),minWidth:"".concat(e,"px")}}},mounted:function(){this.init()},methods:{init:function(){this.$emit("complete")}}},Me=Ue,De=(n("fe9b"),Object(u["a"])(Me,Be,Ee,!1,null,null,null)),Ie=De.exports,$e=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rectangle-warp",style:t.getStyle})},Re=[],Ye={props:{elementId:{type:String,default:""},borderWidth:{type:Number,default:1}},data:function(){return{}},computed:{getStyle:function(){var t=this.borderWidth;return{minWidth:"20px",minHeight:"20px",height:"100%",border:"1px solid #000",borderWidth:"".concat(t,"px")}}},mounted:function(){this.init()},methods:{init:function(){this.$emit("complete")}}},Xe=Ye,He=(n("7001"),Object(u["a"])(Xe,$e,Re,!1,null,null,null)),Ae=He.exports,We=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"y-line-warp",style:t.getStyle})},Pe=[],Fe={props:{elementId:{type:String,default:""},width:{type:[String,Number],default:0},height:{type:[String,Number],default:0}},data:function(){return{}},computed:{getStyle:function(){var t=this.width,e=this.height;return{backgroundColor:"#000",width:"".concat(t,"px"),minHeight:"".concat(e,"px"),height:"100%"}}},mounted:function(){this.init()},methods:{init:function(){this.$emit("complete")}}},Ne=Fe,Ve=(n("5f0d"),Object(u["a"])(Ne,We,Pe,!1,null,null,null)),qe=Ve.exports,Ge=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.currentComponent?n("div",{staticClass:"text-menu-warp"},[n("el-tabs",{attrs:{type:"border-card"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("el-tab-pane",{attrs:{label:"内容",name:"content"}},[n("el-form",{ref:"content-form"},[n("el-form-item",{attrs:{label:"文本内容"}},[n("el-input",{attrs:{type:"textarea",rows:4,resize:"none",size:"small"},model:{value:t.currentComponent.props.text,callback:function(e){t.$set(t.currentComponent.props,"text",e)},expression:"currentComponent.props.text"}})],1),n("el-form-item",{attrs:{label:"对齐方式"}},[n("el-select",{staticClass:"w-100",attrs:{size:"small"},model:{value:t.currentComponent.props.align,callback:function(e){t.$set(t.currentComponent.props,"align",e)},expression:"currentComponent.props.align"}},t._l(t.alignOptions,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),n("el-form-item",{attrs:{label:"字体类型"}},[n("el-select",{staticClass:"w-100",attrs:{size:"small"},model:{value:t.currentComponent.props.fontFamily,callback:function(e){t.$set(t.currentComponent.props,"fontFamily",e)},expression:"currentComponent.props.fontFamily"}},t._l(t.fontFamilyOptions,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),n("el-form-item",{attrs:{label:"字体尺寸"}},[n("el-select",{staticClass:"w-100",attrs:{size:"small"},model:{value:t.currentComponent.props.fontSize,callback:function(e){t.$set(t.currentComponent.props,"fontSize",e)},expression:"currentComponent.props.fontSize"}},t._l(t.fontSizeOptions,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),n("el-form-item",{attrs:{label:"文本行距"}},[n("el-select",{staticClass:"w-100",attrs:{size:"small"},model:{value:t.currentComponent.props.lineHeight,callback:function(e){t.$set(t.currentComponent.props,"lineHeight",e)},expression:"currentComponent.props.lineHeight"}},t._l(t.lineHeightOptions,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),n("el-form-item",[n("el-checkbox",{model:{value:t.currentComponent.props.isBold,callback:function(e){t.$set(t.currentComponent.props,"isBold",e)},expression:"currentComponent.props.isBold"}},[t._v("字体加粗")])],1)],1)],1),n("el-tab-pane",{attrs:{label:"边框",name:"board"}},[n("el-form",{ref:"board-form"},[n("el-form-item",[n("el-checkbox",{model:{value:t.currentComponent.props.hasBorder,callback:function(e){t.$set(t.currentComponent.props,"hasBorder",e)},expression:"currentComponent.props.hasBorder"}},[t._v("显示边框")])],1)],1)],1)],1)],1):t._e()},Je=[],Qe={props:{component:{type:Object,default:function(){return{}}}},data:function(){return{tab:"标题",form:{content:""},alignOptions:[{label:"左对齐",value:"left"},{label:"右对齐",value:"right"},{label:"居中",value:"center"}],fontFamilyOptions:[{label:"Al Bayan",value:"Al Bayan"},{label:"monospace",value:"monospace"},{label:"sans-serif",value:"sans-serif"}],fontSizeOptions:[{label:"12px",value:"12px"},{label:"14px",value:"14px"},{label:"16px",value:"16px"},{label:"18px",value:"18px"},{label:"24px",value:"24px"},{label:"30px",value:"30px"},{label:"36px",value:"36px"},{label:"48px",value:"48px"},{label:"60px",value:"60px"},{label:"72px",value:"72px"}],lineHeightOptions:[{label:"1倍",value:"1"},{label:"1.5倍",value:"1.5"},{label:"2倍",value:"2"},{label:"2.5倍",value:"2.5"},{label:"3倍",value:"3"}]}},computed:Object(g["a"])(Object(g["a"])({},Object(U["mapGetters"])(["activeComponent","storeList"])),{},{currentComponent:function(){var t=this.activeComponent.id,e=void 0===t?"":t;return this.storeList.find((function(t){return t.id===e}))}}),mounted:function(){this.init()},methods:{init:function(){this.tab="content"}}},Ke=Qe,Ze=(n("d2e7"),Object(u["a"])(Ke,Ge,Je,!1,null,null,null)),tn=Ze.exports,en=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.currentComponent?n("el-form",{staticClass:"barcode-menu-warp",attrs:{model:t.form,"label-position":"top"}},[n("el-tabs",{attrs:{type:"border-card"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("el-tab-pane",{attrs:{label:"内容",name:"content"}},[n("el-form-item",{attrs:{label:"条形码格式"}},[n("el-select",{staticClass:"w-100",attrs:{size:"small",filterable:""},on:{change:t.debounceUpdate},model:{value:t.currentComponent.props.format,callback:function(e){t.$set(t.currentComponent.props,"format",e)},expression:"currentComponent.props.format"}},t._l(t.formatOptions,(function(t){return n("el-option",{key:t.value,attrs:{value:t.value,label:t.label}})})),1)],1),n("el-form-item",{attrs:{label:"是否显示值"}},[n("el-select",{staticClass:"w-100",attrs:{size:"small",filterable:""},on:{change:t.debounceUpdate},model:{value:t.currentComponent.props.displayValue,callback:function(e){t.$set(t.currentComponent.props,"displayValue",e)},expression:"currentComponent.props.displayValue"}},t._l(t.selectOptions,(function(t){return n("el-option",{key:t.value,attrs:{value:t.value,label:t.label}})})),1)],1)],1),n("el-tab-pane",{attrs:{label:"样式",name:"style"}},[n("el-form-item",{attrs:{label:"线宽"}},[n("el-input-number",{staticClass:"w-100",attrs:{min:1,max:10,label:"描述文字",size:"small"},on:{change:t.debounceUpdate},model:{value:t.currentComponent.props.lineWidth,callback:function(e){t.$set(t.currentComponent.props,"lineWidth",e)},expression:"currentComponent.props.lineWidth"}})],1),n("el-form-item",{attrs:{label:"字体大小"}},[n("el-select",{staticClass:"w-100",attrs:{size:"small"},on:{change:t.debounceUpdate},model:{value:t.currentComponent.props.fontSize,callback:function(e){t.$set(t.currentComponent.props,"fontSize",e)},expression:"currentComponent.props.fontSize"}},t._l(t.fontSizeOptions,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),n("el-form-item",{attrs:{label:"条形码高度"}},[n("el-input-number",{staticClass:"w-100",attrs:{min:1,max:100,label:"描述文字",size:"small"},on:{change:t.debounceUpdate},model:{value:t.currentComponent.props.bodyHeight,callback:function(e){t.$set(t.currentComponent.props,"bodyHeight",e)},expression:"currentComponent.props.bodyHeight"}})],1)],1)],1)],1):t._e()},nn=[],on={data:function(){return{tab:"content",form:{},debounceUpdate:Function,formatOptions:[{label:"CODE128",value:"CODE128"},{label:"CODE128A",value:"CODE128A"},{label:"CODE128B",value:"CODE128B"},{label:"CODE128C",value:"CODE128C"},{label:"Pharmacode",value:"pharmacode"}],selectOptions:[{label:"是",value:"1"},{label:"否",value:"0"}],fontSizeOptions:[{label:"12px",value:12},{label:"14px",value:14},{label:"16px",value:16},{label:"18px",value:18},{label:"24px",value:24},{label:"30px",value:30},{label:"36px",value:36}]}},computed:Object(g["a"])(Object(g["a"])({},Object(U["mapGetters"])(["activeComponent","storeList"])),{},{currentComponent:function(){var t=this.activeComponent.id,e=void 0===t?"":t;return this.storeList.find((function(t){return t.id===e}))}}),mounted:function(){this.debounceUpdate=Object(xt["debounce"])(300,this.handleUpdateBarcode)},methods:{init:function(){},handleUpdateBarcode:function(){this.$store.dispatch("components/updateBarcode")}}},an=on,sn=(n("a9f4"),Object(u["a"])(an,en,nn,!1,null,null,null)),rn=sn.exports,ln=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"qr-code-menu-warp"})},cn=[],un={data:function(){return{}},methods:{init:function(){}}},dn=un,pn=(n("868c"),Object(u["a"])(dn,ln,cn,!1,null,null,null)),fn=pn.exports,hn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.currentComponent?n("el-form",{staticClass:"line-menu-warp",attrs:{mode:t.form,"label-position":"top"}},[n("el-tabs",{attrs:{type:"border-card"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("el-tab-pane",{attrs:{label:"样式",name:"style"}},[n("el-form-item",{attrs:{label:"线条宽度"}},[t.isXLine?n("el-input-number",{staticClass:"w-100",attrs:{min:1,size:"small",max:10,label:"描述文字"},model:{value:t.currentComponent.props.height,callback:function(e){t.$set(t.currentComponent.props,"height",e)},expression:"currentComponent.props.height"}}):t.isYLine?n("el-input-number",{staticClass:"w-100",attrs:{min:1,size:"small",max:10,label:"描述文字"},model:{value:t.currentComponent.props.width,callback:function(e){t.$set(t.currentComponent.props,"width",e)},expression:"currentComponent.props.width"}}):t._e()],1)],1)],1)],1):t._e()},mn=[],bn={data:function(){return{tab:"style",form:{borderWidth:""}}},computed:Object(g["a"])(Object(g["a"])({},Object(U["mapGetters"])(["activeComponent","storeList"])),{},{currentComponent:function(){var t=this.activeComponent.id,e=void 0===t?"":t;return this.storeList.find((function(t){return t.id===e}))},isXLine:function(){var t=this.currentComponent.type,e=void 0===t?"":t;return"XLineUi"===e},isYLine:function(){var t=this.currentComponent.type,e=void 0===t?"":t;return"YLineUi"===e}}),methods:{init:function(){}}},gn=bn,vn=(n("e9e9"),Object(u["a"])(gn,hn,mn,!1,null,null,null)),yn=vn.exports,xn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.currentComponent?n("el-form",{staticClass:"rectangle-menu-warp",attrs:{mode:t.form,"label-position":"top"}},[n("el-tabs",{attrs:{type:"border-card"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("el-tab-pane",{attrs:{label:"样式",name:"style"}},[n("el-form-item",{attrs:{label:"线条宽度"}},[n("el-input-number",{staticClass:"w-100",attrs:{min:1,size:"small",max:10,label:"描述文字"},model:{value:t.currentComponent.props.borderWidth,callback:function(e){t.$set(t.currentComponent.props,"borderWidth",e)},expression:"currentComponent.props.borderWidth"}})],1)],1)],1)],1):t._e()},wn=[],Cn={data:function(){return{tab:"style",form:{borderWidth:""}}},computed:Object(g["a"])(Object(g["a"])({},Object(U["mapGetters"])(["activeComponent","storeList"])),{},{currentComponent:function(){var t=this.activeComponent.id,e=void 0===t?"":t;return this.storeList.find((function(t){return t.id===e}))}}),methods:{init:function(){}}},On=Cn,Sn=(n("e6dd"),Object(u["a"])(On,xn,wn,!1,null,null,null)),Tn=Sn.exports,Ln=[{id:"Drag",component:ue},{id:"DragResize",component:be},{id:"TextUi",component:oe},{id:"BarcodeUi",component:Ce},{id:"TextMenu",component:tn},{id:"BarcodeMenu",component:rn},{id:"QrCodeUi",component:ke},{id:"QrCodeMenu",component:fn},{id:"XLineUi",component:Ie},{id:"YLineUi",component:qe},{id:"LineMenu",component:yn},{id:"RectangleUi",component:Ae},{id:"RectangleMenu",component:Tn}];n("32fb"),n("f56d"),n("fcad"),n("5298");a.a.use(E.a),a.a.component("vSplit",i["a"]),Kt.map((function(t){return a.a.use(t)})),Ln.map((function(t){return a.a.component(t.id,t.component)})),a.a.config.productionTip=!1,new a.a({router:Vt,store:F,render:function(t){return t(p)}}).$mount("#app")},ce31:function(t,e,n){},cfde:function(t,e,n){},d2e7:function(t,e,n){"use strict";n("d9bc")},d683:function(t,e,n){},d9bc:function(t,e,n){},e0f3:function(t,e,n){},e431:function(t,e,n){},e6dd:function(t,e,n){"use strict";n("117f")},e85a:function(t,e,n){},e8fe:function(t,e,n){},e9e9:function(t,e,n){"use strict";n("e431")},fa17:function(t,e,n){"use strict";n("1d57")},fe9b:function(t,e,n){"use strict";n("e85a")}});