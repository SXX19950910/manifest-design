(function(t){function e(e){for(var i,r,s=e[0],l=e[1],c=e[2],d=0,p=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&p.push(o[r][0]),o[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(p.length)p.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,s=1;s<n.length;s++){var l=n[s];0!==o[l]&&(i=!1)}i&&(a.splice(e--,1),t=r(r.s=n[0]))}return t}var i={},o={app:0},a=[];function r(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"0498":function(t,e,n){"use strict";var i=n("1ec0"),o=n.n(i);o.a},"0bc9":function(t,e,n){},"0c61":function(t,e,n){},"15a0":function(t,e,n){"use strict";var i=n("b2df"),o=n.n(i);o.a},"17b8":function(t,e,n){"use strict";var i=n("d833"),o=n.n(i);o.a},"1d28":function(t,e,n){},"1ec0":function(t,e,n){},"263c":function(t,e,n){"use strict";var i=n("1d28"),o=n.n(i);o.a},4270:function(t,e,n){"use strict";var i=n("f7bd"),o=n.n(i);o.a},"53d7":function(t,e,n){},"546b":function(t,e,n){},"5c0b":function(t,e,n){"use strict";var i=n("aa69"),o=n.n(i);o.a},"5f0d":function(t,e,n){"use strict";var i=n("9450"),o=n.n(i);o.a},"669a":function(t,e,n){"use strict";var i=n("ee00"),o=n.n(i);o.a},"6d42":function(t,e,n){"use strict";var i=n("0c61"),o=n.n(i);o.a},7001:function(t,e,n){"use strict";var i=n("c54a"),o=n.n(i);o.a},7646:function(t,e,n){"use strict";var i=n("b5bb"),o=n.n(i);o.a},"76ac":function(t,e,n){},"868c":function(t,e,n){"use strict";var i=n("db56"),o=n.n(i);o.a},"8d87":function(t,e,n){"use strict";var i=n("f84a"),o=n.n(i);o.a},"8e1f":function(t,e,n){},9450:function(t,e,n){},a538:function(t,e,n){},a9f4:function(t,e,n){"use strict";var i=n("546b"),o=n.n(i);o.a},aa69:function(t,e,n){},b2df:function(t,e,n){},b5bb:function(t,e,n){},bd65:function(t,e,n){"use strict";var i=n("e772"),o=n.n(i);o.a},c23a:function(t,e,n){},c54a:function(t,e,n){},c9a7:function(t,e,n){"use strict";var i=n("0bc9"),o=n.n(i);o.a},ca0e:function(t,e,n){"use strict";var i=n("a538"),o=n.n(i);o.a},cd49:function(t,e,n){"use strict";n.r(e);n("2eeb"),n("a133"),n("ed0d"),n("f09c"),n("e117");var i=n("0261"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},a=[],r=(n("5c0b"),n("4023")),s={},l=Object(r["a"])(s,o,a,!1,null,null,null),c=l.exports,u=n("1860"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"home-warp"}},[n("layout")],1)},p=[],f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-warp"},[n("header-nav"),n("div",{staticClass:"body-area"},[n("left-menu",{staticClass:"left-menu"}),n("board",{staticClass:"view-box"}),n("right-menu",{staticClass:"right-menu"})],1)],1)},m=[],h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"nav-warp"}},[n("div",{staticClass:"logo-area"},[t._v(" Design UI ")]),n("div",{staticClass:"handle-area"},[n("div",{staticClass:"preview-btn",on:{click:t.handleViewTemplate}},[n("i",{staticClass:"el-icon-reading"}),n("span",[t._v("打印预览")])]),n("div",{staticClass:"preview-btn",on:{click:t.handleClearCanvas}},[n("i",{staticClass:"el-icon-magic-stick"}),n("span",[t._v("清空画布")])])])])},b=[],v={data:function(){return{}},methods:{handleViewTemplate:function(){var t=document.querySelector(".drag-canvas-warp.board-canvas").innerHTML,e='\n       <!Doctype html>\n    <html>\n      <head>\n        <title>Desgin Ui 预览</title>\n        <style>\n          html,body{\n            margin: 0;\n            padding: 0;\n            overflow: auto;\n            background-color: #000;\n            position: relative;\n            height: 100vh;\n          }\n          .container {\n            box-sizing: border-box;\n            width: 460px;\n            height: 460px;\n            position: absolute;\n            top: 50%;\n            left: 50%;\n            transform: translate(-50%, -50%);\n            background-color: white;\n          }\n          .text-component .detail {\n            display: inline-block;\n            font-weight: normal;\n            word-break: break-all;\n            word-wrap: break-word;\n            border: 1px solid transparent;\n          }\n          .container .item {\n            display: none;\n          }\n          .container .drag-warp {\n            position: absolute;\n          }\n        </style>\n      </head>\n      <body>\n        <div class="container">'.concat(t,"</div>\n      </body>\n    </html>");window.previewWindow&&window.previewWindow.close(),window.previewWindow=window.open(),window.previewWindow.document.write(e),window.previewWindow.document.close()},handleClearCanvas:function(){var t=this;this.$confirm("此操作将清空画板, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$store.dispatch("components/clearStoreList")})).catch()}}},g=v,y=(n("15a0"),Object(r["a"])(g,h,b,!1,null,null,null)),C=y.exports,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"component-menu-warp"},[n("el-collapse",{staticClass:"collapse-menu",model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},t._l(t.componentList,(function(e,i){return n("el-collapse-item",{key:i,attrs:{title:e.title,name:e.title}},[e.list&&e.list.length>0?[n("draggable",t._b({staticClass:"component-list",attrs:{"component-data":t.getComponentData},on:{end:t.onEnd}},"draggable",t.dragOptions,!1),t._l(e.list,(function(e,i){return n("div",{key:e.id,staticClass:"item",attrs:{"data-component-id":e.id}},[n("span",{staticClass:"name"},[t._v(t._s(e.title))]),n("i",{class:e.icon})])})),0)]:t._e()],2)})),1)],1)},w=[],O=n("ebc9"),_=n("ae8c"),z=n("8c13"),S=n.n(z),j={components:{draggable:S.a},data:function(){return{menu:["地址信息","商品标签信息","构图元素"]}},computed:Object(O["a"])(Object(O["a"])({},Object(_["b"])(["componentList"])),{},{dragOptions:function(){return{sort:!1,group:{name:"component",pull:"clone",put:!1}}},getComponentData:function(){return{}}}),methods:{onEnd:function(t){}}},L=j,E=(n("fa17"),Object(r["a"])(L,x,w,!1,null,null,null)),$=E.exports,D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.currentComponent?n("div",{staticClass:"props-menu-warp",on:{click:function(t){t.stopPropagation()}}},[n("div",{staticClass:"title-area"},[t._v(t._s(t.currentComponent.title))]),n(t.currentComponent.classify,{ref:"menu",tag:"component",attrs:{component:t.currentComponent}})],1):t._e()},U=[],k=(n("4194"),{data:function(){return{}},computed:Object(O["a"])(Object(O["a"])({},Object(_["b"])(["activeComponent","storeList"])),{},{currentComponent:function(){var t=this;return this.storeList.find((function(e){return e.id===t.activeComponent}))}}),watch:{currentComponent:function(){var t=this;this.$nextTick((function(){var e=t.$refs.menu;e&&e.init()}))}},methods:{}}),M=k,T=(n("7646"),Object(r["a"])(M,D,U,!1,null,null,null)),B=T.exports,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"board-warp"},[n("drag-canvas",{staticClass:"board-canvas"})],1)},R=[],Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("draggable",t._b({ref:"drag-board",staticClass:"drag-canvas-warp",attrs:{list:t.storeList},on:{add:t.onAdd}},"draggable",t.getOptions,!1),[t._l(t.storeList,(function(t){return[n("drag",{key:t.id,attrs:{"default-x":t.position.clientX,"default-y":t.position.clientY,"aim-id":t.id,"update-id":t.updateId,"component-object":t}})]}))],2)},A=[],H={components:{draggable:S.a},data:function(){return{list:[],left:"",right:"",top:"",bottom:""}},computed:Object(O["a"])(Object(O["a"])({},Object(_["b"])(["storeList"])),{},{getOptions:function(){return{group:{name:"component",pull:!1,put:!0},handle:".handle",disabled:!1,sort:!1}}}),mounted:function(){this.init()},methods:{onAdd:function(t){var e=t.originalEvent,n=e.clientX,i=e.clientY,o=t.item.getAttribute("data-component-id"),a={position:{clientX:n,clientY:i}},r=n<this.right&&n>this.left,s=i<this.bottom&&n>this.top;r&&s&&this.$store.dispatch("components/addComponent",{componentId:o,props:a})},init:function(){var t=this.$refs["drag-board"].$el,e=t.getBoundingClientRect(),n=e.left,i=e.right,o=e.bottom,a=e.top;this.left=n,this.right=i,this.top=a,this.bottom=o}}},X=H,P=(n("bd65"),Object(r["a"])(X,Y,A,!1,null,null,null)),W=P.exports,N=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},V=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"tools-drawer-warp"}},[n("div",{staticClass:"trigger-area"},[n("div",{staticClass:"line-box"}),n("div",{staticClass:"trigger-btn"},[n("i",{staticClass:"el-icon-caret-top"})])])])}],F={data:function(){return{visible:!1,direction:"btt"}}},q=F,J=(n("6d42"),Object(r["a"])(q,N,V,!1,null,null,null)),Q=J.exports,G={components:{DragCanvas:W,ToolsDrawer:Q},data:function(){return{}}},K=G,Z=(n("8d87"),Object(r["a"])(K,I,R,!1,null,null,null)),tt=Z.exports,et=i["default"].prototype.$isServer,nt=function(){return!et&&document.addEventListener?function(t,e,n){t&&e&&n&&t.addEventListener(e,n,!1)}:function(t,e,n){t&&e&&n&&t.attachEvent("on"+e,n)}}(),it=function(){return!et&&document.removeEventListener?function(t,e,n){t&&e&&t.removeEventListener(e,n,!1)}:function(t,e,n){t&&e&&t.detachEvent("on"+e,n)}}(),ot={components:{HeaderNav:C,LeftMenu:$,RightMenu:B,Board:tt},data:function(){return{}},mounted:function(){nt(document,"click",this.handleCancelCurrent)},methods:{handleCancelCurrent:function(){var t={id:""};this.$store.dispatch("components/setActive",t)}}},at=ot,rt=(n("263c"),Object(r["a"])(at,f,m,!1,null,null,null)),st=rt.exports,lt={components:{layout:st},data:function(){return{}}},ct=lt,ut=(n("ca0e"),Object(r["a"])(ct,d,p,!1,null,null,null)),dt=ut.exports;i["default"].use(u["a"]);var pt=[{path:"/",name:"Home",component:dt}],ft=new u["a"]({mode:"hash",base:"/",routes:pt}),mt=ft,ht={componentList:function(t){return t.components.componentList},storeList:function(t){return t.components.storeList},activeComponent:function(t){return t.components.activeComponent}},bt=ht,vt=(n("513c"),n("e18c"),n("1c2e"),n("8b08")),gt=n.n(vt),yt=function(){return Number(Math.random().toString().substr(3,length)+Date.now()).toString(36)},Ct={namespaced:!0,state:{activeComponent:"",componentMap:{senderAddress:{name:"senderAddress",type:"TextUi",classify:"TextMenu",title:"寄件人地址",updateId:"",props:{text:"测试寄件人",align:"left",fontFamily:"monospace",lineHeight:"1.5",fontSize:"16px",isBold:!1,hasBorder:!1}},receiverAddress:{type:"TextUi",name:"receiverAddress",classify:"TextMenu",title:"收件人地址",updateId:"",props:{text:"测试收件人名称",align:"left",fontFamily:"",lineHeight:"",fontSize:"",isBold:!1,hasBorder:!1}},barcode:{name:"barCode",type:"BarcodeUi",classify:"BarcodeMenu",title:"条形码",updateId:"",props:{format:"CODE128",lineWidth:2,bodyHeight:40,fontSize:14,displayValue:"1",data:"123456789"}},xLine:{name:"xLine",type:"XLineUi",classify:"LineMenu",title:"横线",updateId:"",props:{width:100,height:2}},yLine:{name:"yLine",type:"YLineUi",classify:"LineMenu",title:"竖线",updateId:"",props:{height:60,width:2}},rectangle:{name:"rectangle",type:"RectangleUi",classify:"LineMenu",title:"矩形",updateId:"",props:{}},qrCode:{name:"qrCode",type:"QrCodeUi",classify:"QrCodeMenu",title:"二维码",updateId:"",props:{}},customText:{name:"customText",type:"TextUi",classify:"TextMenu",title:"自定义文本",updateId:"",props:{text:"自定义文本",align:"left",fontFamily:"",fontSize:"",lineHeight:"",isBold:!1,hasBorder:!1}}},componentList:[{title:"地址信息",list:[{title:"收件人地址",icon:"iconfont iconziti1",id:"receiverAddress",component:{type:"TextUi"}},{title:"发件人地址",id:"senderAddress",icon:"iconfont iconziti1",component:{type:"TextUi"}}]},{title:"商品标签信息",list:[]},{title:"构图元素",list:[{title:"自定义文本",id:"customText",icon:"iconfont iconziti1",component:{type:"TextUi"}},{title:"条形码",id:"barcode",icon:"iconfont icontiaoxingma",component:{type:"BarcodeUi"}},{title:"二维码",id:"qrCode",icon:"iconfont iconqrcode",component:{type:"QrCodeUi"}},{title:"横线",id:"xLine",icon:"iconfont iconline",component:{type:"XLineUi"}},{title:"竖线",id:"yLine",icon:"iconfont icontubiaozhizuo-",component:{type:"YLineUi"}},{title:"矩形",id:"rectangle",icon:"iconfont iconjuxing",component:{type:"YLineUi"}}]}],storeList:[]},actions:{addComponent:function(t,e){var n=t.commit,i=t.state,o=yt(),a=i.componentMap[e.componentId];if(!a)throw new Error("".concat(e.componentId," 未找到该组件"));var r=JSON.parse(JSON.stringify(a));r.id=o;var s=Object.assign(r,e.props);n("ADD_COMPONENT",s)},setActive:function(t,e){var n=t.commit;n("SET_ACTIVE",e)},updateBarcode:function(t,e){t.commit;var n=t.state,i=n.storeList.find((function(t){return t.id===e.id})),o=i.props,a=o.format,r=o.lineWidth,s=o.bodyHeight,l=o.displayValue,c=o.fontSize;gt()(".".concat(i.id),i.props.data,{format:a,width:r,height:s,textMargin:10,fontSize:c,displayValue:"1"===l})},updateComponent:function(t,e){var n=t.commit,i=t.state,o=i.storeList.find((function(t){return t.id===e.id})),a=JSON.parse(JSON.stringify(o));a.updateId=(new Date).getTime().toString();var r=Object.assign(a,e.update);n("UPDATE_COMPONENT",r)},clearStoreList:function(t,e){var n=t.commit;t.state;n("CLEAR_STORE_LIST")}},mutations:{SET_ACTIVE:function(t,e){var n=e.id;t.activeComponent=n},CLEAR_STORE_LIST:function(t){t.storeList=[];for(var e=document.querySelector(".drag-canvas-warp.board-canvas"),n=e.querySelectorAll(".item"),i=0;i<n.length;i++)e.removeChild(n[i])},UPDATE_COMPONENT:function(t,e){t.storeList=t.storeList.map((function(t,n){var i=Object(O["a"])({},t);return t.id===e.id&&(i=e),i}))},ADD_COMPONENT:function(t,e){t.storeList.push(e)}}},xt=Ct;i["default"].use(_["a"]);var wt=new _["a"].Store({modules:{components:xt},getters:bt}),Ot=n("b705"),_t=n.n(Ot),zt={bind:function(t,e,n){}},St=function(t){t.directive("drag",zt)};window.Vue&&(window["drag"]=zt),i["default"].use(St),zt.install=St;var jt=zt,Lt=[jt],Et=Lt,$t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-component",attrs:{id:t.elementId}},[n("span",{staticClass:"detail",style:t.getTextStyle},[t._v(t._s(t.text))])])},Dt=[],Ut={props:{elementId:{type:String,default:""},text:{type:String,default:""},fontFamily:{type:String,default:""},fontSize:{type:String,default:""},lineHeight:{type:String,default:""},isBold:{type:Boolean,default:!1},hasBorder:{type:Boolean,default:!1}},data:function(){return{}},computed:{getTextStyle:function(){var t=this.fontFamily,e=this.fontSize,n=this.lineHeight,i=this.isBold,o=this.hasBorder,a={};return a={fontFamily:t,fontSize:e,lineHeight:n,fontWeight:i?"bold":"400",border:o?"1px solid #000":"1px solid transparent"},a}},mounted:function(){this.init()},methods:{init:function(){this.$emit("complete")}}},kt=Ut,Mt=(n("c9a7"),Object(r["a"])(kt,$t,Dt,!1,null,null,null)),Tt=Mt.exports,Bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"drag",staticClass:"drag-warp",class:t.activeClass,style:t.dragStyle,attrs:{id:t.aimId},on:{click:function(e){return e.stopPropagation(),t.handleSetCurrent(e)},mousedown:t.handleMouseDown,contextmenu:t.handleContextMenu}},[n(t.componentObject.type,t._b({tag:"component",attrs:{"element-id":t.componentObject.id,"update-id":t.componentObject.updateId},on:{complete:t.init}},"component",t.componentObject.props,!1)),t.resizeVisible?n("drag-resize",{attrs:{"component-object":t.componentObject},on:{"resize-down":t.handleResizeDown}}):t._e()],1)},It=[],Rt=(n("b130"),n("90aa"),n("861d")),Yt={name:"Drag",props:{componentObject:{type:Object,default:function(){return{}}},aimId:{type:String,default:""},defaultX:{type:Number,default:0},defaultY:{type:Number,default:0},updateId:{type:String,default:""}},data:function(){return{x:"",y:"",downX:"",downY:"",resizeDownX:"",resizeDownY:"",downWidth:"",downHeight:"",offsetLeft:"",offsetTop:"",resizeOffsetRight:"",resizeOffsetBottom:"",board:{},active:!1,defaultWidth:"",defaultHeight:"",width:"",height:"",debounceSetPosition:Function}},destroyed:function(){this.clearAllListener()},computed:Object(O["a"])(Object(O["a"])({},Object(_["b"])(["activeComponent"])),{},{dragStyle:function(){var t=this.width,e=this.height,n=this.y,i=this.x,o=this.isLine;return{width:"".concat(t,"px"),height:"".concat(e,"px"),top:"".concat(n,"px"),left:"".concat(i,"px"),padding:o?"0":"0 10px 0 0",overflow:o?"unset":"hidden"}},activeClass:function(){var t=[];return this.activeComponent===this.componentObject.id&&t.push("is-active"),"BarcodeUi"===this.componentObject.type&&t.push("barcode-ui"),this.isLine&&t.push("line-ui"),t},isLine:function(){return"XLineUi"===this.componentObject.type||"YLineUi"===this.componentObject.type||"RectangleUi"===this.componentObject.type},resizeDisabledY:function(){return"XLineUi"===this.componentObject.type},resizeDisabledX:function(){return"YLineUi"===this.componentObject.type},resizeVisible:function(){return this.activeClass.includes("is-active")}}),mounted:function(){this.debounceSetPosition=Object(Rt["a"])(200,this.updateDefaultPosition)},methods:{init:function(){var t=this.$refs.drag,e=t.firstElementChild,n=document.querySelector(".drag-canvas-warp.board-canvas"),i=t.getBoundingClientRect(),o=i.width,a=i.height,r=this.defaultX,s=this.defaultY,l=e.getBoundingClientRect(),c=l.top,u=l.left;this.board=n.getBoundingClientRect(),this.offsetLeft=u,this.offsetTop=c,this.defaultHeight=a,this.defaultWidth=o,this.width=o,this.x=r-u,this.y=s-c},updateDefaultPosition:function(t){var e=t.clientX,n=t.clientY,i={id:this.componentObject.id,update:{updateId:"",position:{defaultX:e,defaultY:n}}};this.$store.dispatch("components/updateComponent",i)},clearAllListener:function(){it(document,"mousemove",this.handleResizeMove),it(document,"mouseup",this.handleResizeUp),it(document,"mousemove",this.handleMouseMove),it(document,"mouseup",this.handleMouseUp)},handleMouseDown:function(t){var e=t.target.getBoundingClientRect(),n=e.top,i=e.left;this.downX=t.clientX-i,this.downY=t.clientY-n,nt(document,"mousemove",this.handleMouseMove),nt(document,"mouseup",this.handleMouseUp)},handleContextMenu:function(){this.clearAllListener()},handleSetCurrent:function(){var t={id:this.componentObject.id};this.$store.dispatch("components/setActive",t)},handleMouseMove:function(t){var e=this.aimId,n=t.clientX,i=t.clientY,o=this.board.height,a=this.board.width,r=n-this.offsetLeft-this.downX,s=i-this.offsetTop-this.downY,l=document.getElementById(e),c=l.getBoundingClientRect(),u=c.width,d=c.height;this.x=r<=0?0:u+r>=a?a-u:r,this.y=s<=0?0:d+s>=o?o-d:s,this.debounceSetPosition(t)},handleMouseUp:function(){it(document,"mousemove",this.handleMouseMove),it(document,"mouseup",this.handleMouseUp)},handleResizeUp:function(){it(document,"mousemove",this.handleResizeMove),it(document,"mouseup",this.handleResizeUp)},handleResizeMove:function(t){var e=t.clientX,n=t.clientY,i=this.defaultWidth,o=this.defaultHeight,a=this.downWidth,r=this.downHeight,s=e-this.resizeDownX,l=n-this.resizeDownY,c=this.resizeOffsetRight,u=this.resizeOffsetBottom,d=a+s,p=r+l,f=p<=o,m=d<=i,h=s>=c,b=l>=u;this.resizeDisabledX||(this.width=m?i:h?a+c:d),this.resizeDisabledY||(this.height=f?o:b?r+u:p)},handleResizeDown:function(t){var e=this.$refs.drag,n=e.getBoundingClientRect(),i=n.width,o=n.height;this.resizeOffsetRight=this.board.width-e.offsetLeft-i,this.resizeOffsetBottom=this.board.height-e.offsetTop-o,this.resizeDownX=t.clientX,this.resizeDownY=t.clientY,this.downWidth=i,this.downHeight=o,nt(document,"mousemove",this.handleResizeMove),nt(document,"mouseup",this.handleResizeUp),t.stopPropagation()}}},At=Yt,Ht=(n("0498"),Object(r["a"])(At,Bt,It,!1,null,null,null)),Xt=Ht.exports,Pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"resize-area",class:t.resizeClass},[t.isLine?n("div",{staticClass:"resize-bar",style:t.barStyle,on:{click:function(t){t.stopPropagation()},mousedown:t.handleResizeDown}}):n("i",{staticClass:"iconfont icontuozhuaidaxiao",style:t.iconStyle,on:{click:function(t){t.stopPropagation()},mousedown:t.handleResizeDown}})])},Wt=[],Nt={props:{componentObject:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:{cursorType:function(){var t={XLineUi:"col-resize",YLineUi:"row-resize"};return t[this.componentObject.type]},isLine:function(){return"XLineUi"===this.componentObject.type||"YLineUi"===this.componentObject.type},iconStyle:function(){var t=this.isLine;return{cursor:t?this.cursorType:"se-resize"}},barStyle:function(){var t=this.isLine,e={cursor:t?this.cursorType:"se-resize",width:this.resizeDisabledX?"100%":"16px",height:this.resizeDisabledY?"100%":"16px"};return this.resizeDisabledX&&(e.bottom=0,e.left=0),this.resizeDisabledY&&(e.top=0,e.right=0),e},resizeDisabledY:function(){return"XLineUi"===this.componentObject.type},resizeDisabledX:function(){return"YLineUi"===this.componentObject.type},resizeClass:function(){return this.isLine?"":"resize-btn"}},methods:{handleResizeDown:function(t){this.$emit("resize-down",t)}}},Vt=Nt,Ft=(n("4270"),Object(r["a"])(Vt,Pt,Wt,!1,null,null,null)),qt=Ft.exports,Jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("img",{ref:"img",staticClass:"barcode",class:t.elementId,style:t.getStyle,attrs:{alt:"barcode",src:"",draggable:"false"}})},Qt=[],Gt={props:{elementId:{type:String,default:""},component:{type:Object,default:function(){return{}}},bodyHeight:{type:Number,default:40},lineWidth:{type:Number,default:2},format:{type:String,default:"CODE128"},displayValue:{type:String,default:"1"},data:{type:String,default:""}},data:function(){return{}},computed:Object(O["a"])(Object(O["a"])({},Object(_["b"])(["activeComponent","storeList"])),{},{currentComponent:function(){var t=this;return this.storeList.find((function(e){return e.id===t.activeComponent}))},getStyle:function(){return{maxWidth:"100%",verticalAlign:"middle",userSelect:"none"}}}),destroyed:function(){},mounted:function(){this.init()},methods:{complete:function(){this.$emit("complete")},clearListener:function(){var t=this;it(t.$refs.img,"load",t.complete)},init:function(){this.complete();var t=this.elementId,e=this.bodyHeight,n=this.lineWidth,i=this.displayValue,o=this.format,a=this.data;gt()(".".concat(t),a,{format:o,width:n,height:e,textMargin:10,displayValue:"1"===i})}}},Kt=Gt,Zt=(n("669a"),Object(r["a"])(Kt,Jt,Qt,!1,null,null,null)),te=Zt.exports,ee=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("img",{ref:"img",staticClass:"qr-code-warp",style:t.getStyle,attrs:{alt:"qr",draggable:"false",src:""}})},ne=[],ie=n("5618"),oe=n.n(ie),ae={props:{elementId:{type:String,default:""}},data:function(){return{}},destroyed:function(){},computed:{getStyle:function(){return{maxWidth:"100%",verticalAlign:"middle",userSelect:"none"}}},mounted:function(){this.init()},methods:{complete:function(){this.$emit("complete")},init:function(){var t=this,e=this.$refs.img;t.complete(),oe.a.toDataURL("http://192.168.11.80:8080/",{errorCorrectionLevel:"H",type:"image/jpeg",color:{}},(function(t,n){if(t)throw t;e.src=n}))}}},re=ae,se=(n("17b8"),Object(r["a"])(re,ee,ne,!1,null,null,null)),le=se.exports,ce=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"x-line-warp",style:t.getStyle})},ue=[],de={props:{elementId:{type:String,default:""},height:{type:[String,Number],default:2},width:{type:[String,Number],default:100}},data:function(){return{}},computed:{getStyle:function(){var t=this.height,e=this.width;return{backgroundColor:"#000",height:"".concat(t,"px"),minWidth:"".concat(e,"px")}}},mounted:function(){this.init()},methods:{init:function(){this.$emit("complete")}}},pe=de,fe=(n("fe9b"),Object(r["a"])(pe,ce,ue,!1,null,null,null)),me=fe.exports,he=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rectangle-warp",style:t.getStyle})},be=[],ve={data:function(){return{elementId:{type:String,default:""}}},computed:{getStyle:function(){return{minWidth:"20px",minHeight:"20px",height:"100%",border:"1px solid #000"}}},mounted:function(){this.init()},methods:{init:function(){this.$emit("complete")}}},ge=ve,ye=(n("7001"),Object(r["a"])(ge,he,be,!1,null,null,null)),Ce=ye.exports,xe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"y-line-warp",style:t.getStyle})},we=[],Oe={props:{elementId:{type:String,default:""},width:{type:[String,Number],default:0},height:{type:[String,Number],default:0}},data:function(){return{}},computed:{getStyle:function(){var t=this.width,e=this.height;return{backgroundColor:"#000",width:"".concat(t,"px"),minHeight:"".concat(e,"px"),height:"100%"}}},mounted:function(){this.init()},methods:{init:function(){this.$emit("complete")}}},_e=Oe,ze=(n("5f0d"),Object(r["a"])(_e,xe,we,!1,null,null,null)),Se=ze.exports,je=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-menu-warp"},[n("el-tabs",{attrs:{type:"border-card"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("el-tab-pane",{attrs:{label:"内容",name:"content"}},[n("el-form",{ref:"content-form"},[n("el-form-item",{attrs:{label:"文本内容"}},[n("el-input",{attrs:{type:"textarea",rows:4,resize:"none",size:"small"},model:{value:t.currentComponent.props.text,callback:function(e){t.$set(t.currentComponent.props,"text",e)},expression:"currentComponent.props.text"}})],1),n("el-form-item",{attrs:{label:"对齐方式"}},[n("el-select",{staticClass:"w-100",attrs:{size:"small"},model:{value:t.currentComponent.props.align,callback:function(e){t.$set(t.currentComponent.props,"align",e)},expression:"currentComponent.props.align"}},t._l(t.alignOptions,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),n("el-form-item",{attrs:{label:"字体类型"}},[n("el-select",{staticClass:"w-100",attrs:{size:"small"},model:{value:t.currentComponent.props.fontFamily,callback:function(e){t.$set(t.currentComponent.props,"fontFamily",e)},expression:"currentComponent.props.fontFamily"}},t._l(t.fontFamilyOptions,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),n("el-form-item",{attrs:{label:"字体尺寸"}},[n("el-select",{staticClass:"w-100",attrs:{size:"small"},model:{value:t.currentComponent.props.fontSize,callback:function(e){t.$set(t.currentComponent.props,"fontSize",e)},expression:"currentComponent.props.fontSize"}},t._l(t.fontSizeOptions,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),n("el-form-item",{attrs:{label:"文本行距"}},[n("el-select",{staticClass:"w-100",attrs:{size:"small"},model:{value:t.currentComponent.props.lineHeight,callback:function(e){t.$set(t.currentComponent.props,"lineHeight",e)},expression:"currentComponent.props.lineHeight"}},t._l(t.lineHeightOptions,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),n("el-form-item",[n("el-checkbox",{model:{value:t.currentComponent.props.isBold,callback:function(e){t.$set(t.currentComponent.props,"isBold",e)},expression:"currentComponent.props.isBold"}},[t._v("字体加粗")])],1)],1)],1),n("el-tab-pane",{attrs:{label:"边框",name:"board"}},[n("el-form",{ref:"board-form"},[n("el-form-item",[n("el-checkbox",{model:{value:t.currentComponent.props.hasBorder,callback:function(e){t.$set(t.currentComponent.props,"hasBorder",e)},expression:"currentComponent.props.hasBorder"}},[t._v("显示边框")])],1)],1)],1)],1)],1)},Le=[],Ee={props:{component:{type:Object,default:function(){return{}}}},data:function(){return{tab:"标题",form:{content:""},alignOptions:[{label:"左对齐",value:"left"},{label:"右对齐",value:"right"},{label:"居中",value:"center"}],fontFamilyOptions:[{label:"Al Bayan",value:"Al Bayan"},{label:"monospace",value:"monospace"},{label:"sans-serif",value:"sans-serif"}],fontSizeOptions:[{label:"12px",value:"12px"},{label:"14px",value:"14px"},{label:"16px",value:"16px"},{label:"18px",value:"18px"},{label:"24px",value:"24px"},{label:"30px",value:"30px"},{label:"36px",value:"36px"},{label:"48px",value:"48px"},{label:"60px",value:"60px"},{label:"72px",value:"72px"}],lineHeightOptions:[{label:"1倍",value:"1"},{label:"1.5倍",value:"1.5"},{label:"2倍",value:"2"},{label:"2.5倍",value:"2.5"},{label:"3倍",value:"3"}]}},computed:Object(O["a"])(Object(O["a"])({},Object(_["b"])(["activeComponent","storeList"])),{},{currentComponent:function(){var t=this;return this.storeList.find((function(e){return e.id===t.activeComponent}))}}),mounted:function(){this.init()},methods:{init:function(){this.tab="content"}}},$e=Ee,De=(n("d2e7"),Object(r["a"])($e,je,Le,!1,null,null,null)),Ue=De.exports,ke=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-form",{staticClass:"barcode-menu-warp",attrs:{model:t.form,"label-position":"top"}},[n("el-tabs",{attrs:{type:"border-card"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("el-tab-pane",{attrs:{label:"内容",name:"content"}},[n("el-form-item",{attrs:{label:"条形码格式"}},[n("el-select",{staticClass:"w-100",attrs:{size:"small",filterable:""},model:{value:t.currentComponent.props.format,callback:function(e){t.$set(t.currentComponent.props,"format",e)},expression:"currentComponent.props.format"}},t._l(t.formatOptions,(function(t){return n("el-option",{key:t.value,attrs:{value:t.value,label:t.label}})})),1)],1),n("el-form-item",{attrs:{label:"是否显示值"}},[n("el-select",{staticClass:"w-100",attrs:{size:"small",filterable:""},model:{value:t.currentComponent.props.displayValue,callback:function(e){t.$set(t.currentComponent.props,"displayValue",e)},expression:"currentComponent.props.displayValue"}},t._l(t.selectOptions,(function(t){return n("el-option",{key:t.value,attrs:{value:t.value,label:t.label}})})),1)],1)],1),n("el-tab-pane",{attrs:{label:"样式",name:"style"}},[n("el-form-item",{attrs:{label:"线宽"}},[n("el-input-number",{staticClass:"w-100",attrs:{min:1,max:10,label:"描述文字",size:"small"},model:{value:t.currentComponent.props.lineWidth,callback:function(e){t.$set(t.currentComponent.props,"lineWidth",e)},expression:"currentComponent.props.lineWidth"}})],1),n("el-form-item",{attrs:{label:"字体大小"}},[n("el-select",{staticClass:"w-100",attrs:{size:"small"},model:{value:t.currentComponent.props.fontSize,callback:function(e){t.$set(t.currentComponent.props,"fontSize",e)},expression:"currentComponent.props.fontSize"}},t._l(t.fontSizeOptions,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),n("el-form-item",{attrs:{label:"条形码高度"}},[n("el-input-number",{staticClass:"w-100",attrs:{min:1,max:100,label:"描述文字",size:"small"},model:{value:t.currentComponent.props.bodyHeight,callback:function(e){t.$set(t.currentComponent.props,"bodyHeight",e)},expression:"currentComponent.props.bodyHeight"}})],1)],1)],1),n("div",{staticClass:"bottom-handle"},[n("el-button",{attrs:{size:"small",icon:"el-icon-edit",type:"primary"},on:{click:t.handleUpdate}},[t._v("修改")]),n("el-button",{attrs:{size:"small",icon:"el-icon-delete",type:"danger"}},[t._v("删除")])],1)],1)},Me=[],Te={data:function(){return{tab:"content",form:{},formatOptions:[{label:"CODE128",value:"CODE128"},{label:"CODE128A",value:"CODE128A"},{label:"CODE128B",value:"CODE128B"},{label:"CODE128C",value:"CODE128C"},{label:"Pharmacode",value:"pharmacode"}],selectOptions:[{label:"是",value:"1"},{label:"否",value:"0"}],fontSizeOptions:[{label:"12px",value:12},{label:"14px",value:14},{label:"16px",value:16},{label:"18px",value:18},{label:"24px",value:24},{label:"30px",value:30},{label:"36px",value:36}]}},computed:Object(O["a"])(Object(O["a"])({},Object(_["b"])(["activeComponent","storeList"])),{},{currentComponent:function(){var t=this;return this.storeList.find((function(e){return e.id===t.activeComponent}))}}),methods:{init:function(){},handleUpdate:function(){var t={id:this.activeComponent};this.$store.dispatch("components/updateBarcode",t)}}},Be=Te,Ie=(n("a9f4"),Object(r["a"])(Be,ke,Me,!1,null,null,null)),Re=Ie.exports,Ye=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"qr-code-menu-warp"})},Ae=[],He={data:function(){return{}},methods:{init:function(){}}},Xe=He,Pe=(n("868c"),Object(r["a"])(Xe,Ye,Ae,!1,null,null,null)),We=Pe.exports,Ne=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"line-menu-warp"})},Ve=[],Fe={data:function(){return{}},methods:{init:function(){}}},qe=Fe,Je=(n("e9e9"),Object(r["a"])(qe,Ne,Ve,!1,null,null,null)),Qe=Je.exports,Ge=[{id:"Drag",component:Xt},{id:"DragResize",component:qt},{id:"TextUi",component:Tt},{id:"BarcodeUi",component:te},{id:"TextMenu",component:Ue},{id:"BarcodeMenu",component:Re},{id:"QrCodeUi",component:le},{id:"QrCodeMenu",component:We},{id:"XLineUi",component:me},{id:"YLineUi",component:Se},{id:"LineMenu",component:Qe},{id:"RectangleUi",component:Ce}];n("3880"),n("8e1f");i["default"].use(_t.a),Et.map((function(t){return i["default"].use(t)})),Ge.map((function(t){return i["default"].component(t.id,t.component)})),i["default"].config.productionTip=!1,new i["default"]({router:mt,store:wt,render:function(t){return t(c)}}).$mount("#app")},d2e7:function(t,e,n){"use strict";var i=n("e49b"),o=n.n(i);o.a},d833:function(t,e,n){},db56:function(t,e,n){},e49b:function(t,e,n){},e772:function(t,e,n){},e9e9:function(t,e,n){"use strict";var i=n("c23a"),o=n.n(i);o.a},ee00:function(t,e,n){},f7bd:function(t,e,n){},f84a:function(t,e,n){},fa17:function(t,e,n){"use strict";var i=n("76ac"),o=n.n(i);o.a},fe9b:function(t,e,n){"use strict";var i=n("53d7"),o=n.n(i);o.a}});
//# sourceMappingURL=app.257053db.js.map